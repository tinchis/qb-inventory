<html>

<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <script>
        const DEBUG_MODE = true;
    </script>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=IBM+Plex+Mono:wght@300;400;500;600;700&display=swap"
        rel="stylesheet">
    <script src="https://cdn.tailwindcss.com"></script>
    <script>
        tailwind.config = {
            theme: {
                extend: {
                    fontFamily: {
                        sans: ['IBM Plex Mono', 'monospace'],
                    },
                    colors: {
                        border: "hsl(240 3.7% 15.9%)",
                        input: "hsl(240 3.7% 15.9%)",
                        ring: "hsl(142.1 76.2% 36.3%)",
                        background: "hsl(240 10% 3.9%)",
                        foreground: "hsl(0 0% 98%)",
                        primary: {
                            DEFAULT: "hsl(142.1 76.2% 36.3%)",
                            foreground: "hsl(144.9 80.4% 10%)",
                        },
                        secondary: {
                            DEFAULT: "hsl(240 3.7% 15.9%)",
                            foreground: "hsl(0 0% 98%)",
                        },
                        muted: {
                            DEFAULT: "hsl(240 3.7% 15.9%)",
                            foreground: "hsl(240 5% 64.9%)",
                        },
                        accent: {
                            DEFAULT: "hsl(240 3.7% 15.9%)",
                            foreground: "hsl(0 0% 98%)",
                        },
                    },
                }
            }
        }
    </script>
    <link rel="stylesheet" href="css/main.css">
    <script src="https://kit.fontawesome.com/1c4b4851e0.js" crossorigin="anonymous"></script>
    <script src="https://code.jquery.com/jquery-1.12.4.js"></script>
    <script src="https://code.jquery.com/ui/1.12.1/jquery-ui.js"></script>
</head>

<body class="overflow-hidden select-none bg-transparent">
    <script>
        if (DEBUG_MODE) {
            document.body.style.backgroundImage = 'url(images/bgTest.png)';
            document.body.style.backgroundSize = 'cover';
            document.body.style.backgroundPosition = 'center';
            document.body.style.backgroundRepeat = 'no-repeat';
            document.getElementById('qb-inventory1').style.display = 'flex';
        } else {
            document.body.style.backgroundColor = 'rgba(0,0,0,0)';
        }
    </script>

    <div id="qb-inventory1" class="fixed inset-0 hidden justify-center items-center p-3">
        <object id="game-view" type="application/x-cfx-game-view"
            style="position:fixed; inset:0; width:100%; height:100%; z-index:-1; pointer-events:none; display:none;">
        </object>
        <div class="flex flex-row-reverse gap-6 ml-auto mr-auto items-center h-full">
            <div class="w-[500px] flex flex-col gap-4 transition-all duration-300">
                <div class="h-fit min-h-[200px] max-h-[800px] bg-[#090909]/95 shadow-[0_0_30px_rgba(0,0,0,0.7)] backdrop-blur-sm border border-border rounded-[10px] px-3 py-6 flex flex-col gap-3"
                    style="background-image: url('svgs/grid-pattern.svg');  background-position: center;">
                    <div class="bannerGuide w-full px-3 py-2 rounded-[10px] border border-[#29776f]"
                        style="background-image: url('svgs/grid-pattern.svg'); background-size: cover; background-position: center; background-color: #0C5952">
                        <div class="flex items-center gap-3 ">
                            <svg width="32" height="32" viewBox="0 0 32 32" fill="none"
                                xmlns="http://www.w3.org/2000/svg" class="w-8 h-8 flex-shrink-0">
                                <path
                                    d="M12.9336 3.70403C12.6724 3.63191 12.3931 3.66892 12.1597 3.80659L4.26165 8.39199L3.42352 6.85571L1.66778 7.81357L3.00111 10.2575C3.13098 10.4954 3.35178 10.6704 3.61298 10.7425C3.87418 10.8146 4.15351 10.7776 4.38698 10.6399L12.2848 6.0546L13.0443 7.44693C13.2834 7.29593 13.5266 7.1482 13.774 7.00468C14.1076 6.81127 14.4439 6.62852 14.7812 6.45469L13.5455 4.18912C13.4156 3.9512 13.1948 3.77613 12.9336 3.70403Z"
                                    fill="white" />
                                <path
                                    d="M14.7787 6.45436L16.8243 10.2045L17.4815 9.81015C17.712 9.6718 17.9887 9.63215 18.2488 9.70013C18.509 9.76812 18.7308 9.93803 18.8642 10.1715L21.5309 14.8382C21.8008 15.3104 21.6436 15.9119 21.1771 16.1918L17.8438 18.1918C17.6132 18.3302 17.3366 18.3698 17.0764 18.3018C16.8163 18.2338 16.5944 18.0639 16.4611 17.8304L13.7944 13.1638C13.5244 12.6915 13.6816 12.09 14.1482 11.8101L15.1079 11.2343L13.0418 7.4466C12.3799 7.8646 11.749 8.30775 11.1428 8.75659C8.61163 10.6308 7.61777 13.9694 8.86777 16.6596C9.5831 18.199 10.3522 19.786 11.2499 21.3475C12.1475 22.909 13.1316 24.3715 14.1014 25.7632C15.7983 28.1986 19.1797 29.0042 22.0639 27.7388C23.0033 27.3267 23.9568 26.8694 24.8895 26.3286C25.8223 25.7878 26.6932 25.1872 27.5183 24.5763C30.0493 22.7022 31.0435 19.3635 29.7934 16.6732C29.078 15.1339 28.3089 13.5468 27.4113 11.9854C26.5136 10.4239 25.5296 8.96148 24.5598 7.56968C22.8629 5.13429 19.4813 4.32875 16.5972 5.59401C15.9938 5.85877 15.3846 6.14217 14.7787 6.45436Z"
                                    fill="white" />
                                <path
                                    d="M17.6345 12.0508L19.3086 14.9805L17.6906 15.9513L16.0165 13.0216L17.6345 12.0508Z"
                                    fill="white" />
                            </svg>
                            <div class="flex flex-col gap-1">
                                <p class="text-white uppercase text-xs">
                                    Fix Inventario.
                                </p>
                                <p class="text-[#90C9C4] text-xs">
                                    Para dar un item, pulsa la ruedita del ratón sobre el objeto.
                                </p>
                            </div>
                        </div>

                    </div>

                    <div class="player-inventory-first" data-inventory="player"></div>

                    <div class="grid grid-cols-6 grid-rows-5 gap-2">
                        <div class="player-inventory" data-inventory="player"></div>
                    </div>

                    <div class="flex items-center gap-3 pt-2 border-t border-border">
                        <span id="player-inv-weight" class="text-muted-foreground text-sm font-medium">PESO:</span>
                        <div class="flex-1 h-2 bg-muted rounded-full overflow-hidden">
                            <div id="enUsoPersonal" class="h-full bg-primary transition-all duration-300"></div>
                        </div>
                    </div>
                </div>

                <div class="grid grid-cols-4 gap-2">
                    <button
                        class="btn-combine CombineItem bg-accent hover:bg-primary text-foreground px-3 py-2.5 rounded-md transition-colors font-medium text-sm">
                        <i class="fas fa-pencil-ruler mr-1"></i>Combinar
                    </button>
                    <button
                        class="inv-option-item bg-accent hover:bg-primary text-foreground px-3 py-2.5 rounded-md transition-colors font-medium text-sm"
                        id="item-use">
                        <i class="fa-solid fa-hand-sparkles mr-1"></i>Usar
                    </button>
                    <div class="flex flex-col gap-1">
                        <input type="number" id="item-amount"
                            class="bg-muted border border-border text-foreground px-2 py-2 rounded-md outline-none focus:border-ring transition-colors text-sm"
                            min="1" max="10000000" placeholder="Cantidad" pattern="[0-9]" onfocus="this.value=''"
                            oninput="validity.valid||(value='');">
                    </div>
                    <button
                        class="inv-option-item bg-accent hover:bg-primary text-foreground px-3 py-2.5 rounded-md transition-colors font-medium text-sm relative"
                        id="item-give">
                        <div id="dialog" class="absolute bottom-full left-0 mb-2 hidden">
                            <div id="nearPlayers"
                                class="bg-secondary border border-border rounded-md p-2 min-w-[200px] flex flex-col gap-1">
                            </div>
                        </div>
                        <i class="fa-solid fa-hand-holding-hand mr-1"></i>Dar
                    </button>
                </div>
            </div>

            <div class="other-inv-container-wrapper w-[580px] flex flex-col gap-4 hidden transition-all duration-300">
                <div class="bg-secondary/95 backdrop-blur-sm border border-border rounded-lg p-6 flex flex-col gap-4">
                    <div class="other-inv-info flex items-center justify-between mb-2">
                        <div id="other-inv-label" class="text-foreground text-xl font-semibold">Otro Inventario</div>
                        <span id="other-inv-weight" class="text-muted-foreground text-sm"></span>
                    </div>

                    <div class="oth-inv-container">
                        <div class="grid grid-cols-6 grid-rows-5 gap-2 p-4">
                            <div class="other-inventory" data-inventory="other"></div>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <div class="ply-hotbar-inventory fixed bottom-[5%] left-1/2 -translate-x-1/2 flex gap-2"
            data-inventory="hotbar"></div>

        <div class="inv-options">
            <div class="inv-options-list"></div>
        </div>
        <div id="usoEspacioPersonal" class="hidden"></div>
        <div class="ply-inv-container-first hidden"></div>
        <div class="player-inv-weight-box hidden"></div>
        <div class="inventory-info hidden"></div>
    </div>

    <div class="ply-iteminfo-container fixed hidden pointer-events-none z-[1000]">
        <div class="ply-iteminfo bg-secondary border border-border rounded-lg p-4 min-w-[250px]">
            <div class="iteminfo-content">
                <div class="item-info-title text-foreground text-base font-semibold mb-2"></div>
                <div class="item-info-line border-t border-border my-2"></div>
                <div class="item-info-description text-muted-foreground text-sm leading-relaxed"></div>
            </div>
        </div>
    </div>

    <div class="weapon-attachments-container fixed hidden top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 z-[200]">
        <div class="weapon-attachments-background bg-secondary border border-border rounded-lg p-8 min-w-[600px]">
            <div class="flex items-center justify-between mb-6">
                <div class="weapon-attachments-container-title text-foreground text-2xl font-bold">
                    Pistol | <span class="text-lg text-muted-foreground">9mm</span>
                </div>
                <img src="./attachment_images/weapon_pistol.png" class="weapon-attachments-container-image w-40 h-auto">
            </div>

            <div class="border-t border-border my-4"></div>

            <div class="weapon-attachments-title text-foreground text-lg font-semibold mb-4">
                Complementos
            </div>

            <div class="weapon-attachments grid grid-cols-4 gap-3 mb-6"></div>

            <div
                class="weapon-attachments-remove min-h-[80px] border-2 border-dashed border-border/50 rounded-md flex items-center justify-center mb-4">
                <span class="text-muted-foreground text-sm">Arrastra aquí para quitar</span>
            </div>

            <button
                class="weapon-attachments-back w-full bg-accent hover:bg-primary text-foreground px-6 py-3 rounded-md transition-colors font-medium">
                <i class="fa-solid fa-right-from-bracket text-primary mr-2"></i>Volver al Inventario
            </button>
        </div>
    </div>

    <div class="itemboxes-container fixed bottom-4 right-4 flex flex-col gap-2 z-50"></div>
    <div class="itembox-container template hidden"></div>
    <div class="requiredItem-container"></div>

    <script src="js/state.js" type="text/javascript"></script>
    <script src="js/utils.js" type="text/javascript"></script>
    <script src="js/ui-renderer.js" type="text/javascript"></script>
    <script src="js/items.js" type="text/javascript"></script>
    <script src="js/weapons.js" type="text/javascript"></script>
    <script src="js/drag-drop.js" type="text/javascript"></script>
    <script src="js/event-handlers.js" type="text/javascript"></script>
    <script src="js/inventory-core.js" type="text/javascript"></script>
    <script src="js/app.js" type="text/javascript"></script>
</body>

</html>