<html>

<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <script>
        const DEBUG_MODE = false;
    </script>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=IBM+Plex+Mono:wght@300;400;500;600;700&display=swap"
        rel="stylesheet">
    <script src="https://cdn.tailwindcss.com"></script>
    <script>
        tailwind.config = {
            theme: {
                extend: {
                    fontFamily: {
                        sans: ['IBM Plex Mono', 'monospace'],
                    },
                    colors: {
                        border: "hsl(240 3.7% 15.9%)",
                        input: "hsl(240 3.7% 15.9%)",
                        ring: "hsl(142.1 76.2% 36.3%)",
                        background: "hsl(240 10% 3.9%)",
                        foreground: "hsl(0 0% 98%)",
                        primary: {
                            DEFAULT: "hsl(142.1 76.2% 36.3%)",
                            foreground: "hsl(144.9 80.4% 10%)",
                        },
                        secondary: {
                            DEFAULT: "hsl(240 3.7% 15.9%)",
                            foreground: "hsl(0 0% 98%)",
                        },
                        muted: {
                            DEFAULT: "hsl(240 3.7% 15.9%)",
                            foreground: "hsl(240 5% 64.9%)",
                        },
                        accent: {
                            DEFAULT: "hsl(240 3.7% 15.9%)",
                            foreground: "hsl(0 0% 98%)",
                        },
                    },
                }
            }
        }
    </script>
    <link rel="stylesheet" href="css/main.css">
    <script src="https://kit.fontawesome.com/1c4b4851e0.js" crossorigin="anonymous"></script>
    <script src="https://code.jquery.com/jquery-1.12.4.js"></script>
    <script src="https://code.jquery.com/ui/1.12.1/jquery-ui.js"></script>
</head>

<body class="overflow-hidden select-none bg-transparent">
    <script>
        if (DEBUG_MODE) {
            document.body.style.backgroundImage = 'url(images/bgTest.png)';
            document.body.style.backgroundSize = 'cover';
            document.body.style.backgroundPosition = 'center';
            document.body.style.backgroundRepeat = 'no-repeat';
            document.getElementById('qb-inventory1').style.display = 'flex';
        } else {
            document.body.style.backgroundColor = 'rgba(0,0,0,0)';
        }
    </script>

    <div id="qb-inventory1" class="fixed inset-0 hidden justify-center items-center p-3">
        <object id="game-view" type="application/x-cfx-game-view"
            style="position:fixed; inset:0; width:100%; height:100%; z-index:-1; pointer-events:none; display:none;">
        </object>
        <div class="flex flex-row-reverse gap-6 ml-auto mr-auto h-full">
            <div class="w-[500px] flex flex-col gap-4 transition-all duration-300">
                <div class="h-full bg-[#090909]/95 shadow-[0_0_30px_rgba(0,0,0,0.7)] backdrop-blur-sm border border-border rounded-[10px] px-3 py-6 flex flex-col gap-3"
                    style="background-image: url('svgs/grid-pattern.svg');  background-position: center;">
                    <div class="bannerGuide w-full px-3 py-2 rounded-[10px] border border-[#29776f]"
                        style="background-image: url('svgs/grid-pattern.svg'); background-size: cover; background-position: center; background-color: #0C5952">
                        <div class="flex items-center gap-3 ">
                            <img src="./svgs/mouse.svg" class="w-5 h-5">
                            <div class="flex flex-col gap-1">
                                <p class="text-white uppercase text-xs">
                                    Fix Inventario.
                                </p>
                                <p class="text-[#90C9C4] text-xs">
                                    Para dar un item, pulsa la ruedita del ratón sobre el objeto.
                                </p>
                            </div>
                        </div>

                    </div>

                    <div class="player-inventory-first" data-inventory="player"></div>

                    <div class="grid grid-cols-5 grid-rows-5 gap-2">
                        <div class="player-inventory" data-inventory="player"></div>
                    </div>

                    <div class="flex items-center gap-3 pt-2 border-t border-border">
                        <span id="player-inv-weight" class="text-muted-foreground text-sm font-medium">PESO:</span>
                        <div class="flex-1 h-2 bg-muted rounded-full overflow-hidden">
                            <div id="enUsoPersonal" class="h-full bg-primary transition-all duration-300"></div>
                        </div>
                    </div>
                </div>

                <div class="grid grid-cols-4 gap-2">
                    <button
                        class="btn-combine CombineItem bg-accent hover:bg-primary text-foreground px-3 py-2.5 rounded-md transition-colors font-medium text-sm">
                        <i class="fas fa-pencil-ruler mr-1"></i>Combinar
                    </button>
                    <button
                        class="inv-option-item bg-accent hover:bg-primary text-foreground px-3 py-2.5 rounded-md transition-colors font-medium text-sm"
                        id="item-use">
                        <i class="fa-solid fa-hand-sparkles mr-1"></i>Usar
                    </button>
                    <div class="flex flex-col gap-1">
                        <input type="number" id="item-amount"
                            class="bg-muted border border-border text-foreground px-2 py-2 rounded-md outline-none focus:border-ring transition-colors text-sm"
                            min="1" max="10000000" placeholder="Cantidad" pattern="[0-9]" onfocus="this.value=''"
                            oninput="validity.valid||(value='');">
                    </div>
                    <button
                        class="inv-option-item bg-accent hover:bg-primary text-foreground px-3 py-2.5 rounded-md transition-colors font-medium text-sm relative"
                        id="item-give">
                        <div id="dialog" class="absolute bottom-full left-0 mb-2 hidden">
                            <div id="nearPlayers"
                                class="bg-secondary border border-border rounded-md p-2 min-w-[200px] flex flex-col gap-1">
                            </div>
                        </div>
                        <i class="fa-solid fa-hand-holding-hand mr-1"></i>Dar
                    </button>
                </div>
            </div>

            <div class="other-inv-container-wrapper w-[580px] flex flex-col gap-4 hidden transition-all duration-300">
                <div class="bg-secondary/95 backdrop-blur-sm border border-border rounded-lg p-6 flex flex-col gap-4">
                    <div class="other-inv-info flex items-center justify-between mb-2">
                        <div id="other-inv-label" class="text-foreground text-xl font-semibold">Otro Inventario</div>
                        <span id="other-inv-weight" class="text-muted-foreground text-sm"></span>
                    </div>

                    <div class="oth-inv-container">
                        <div class="grid grid-cols-6 grid-rows-5 gap-2 p-4">
                            <div class="other-inventory" data-inventory="other"></div>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <div class="ply-hotbar-inventory fixed bottom-[5%] left-1/2 -translate-x-1/2 flex gap-2"
            data-inventory="hotbar"></div>

        <div class="inv-options">
            <div class="inv-options-list"></div>
        </div>
        <div id="usoEspacioPersonal" class="hidden"></div>
        <div class="ply-inv-container-first hidden"></div>
        <div class="player-inv-weight-box hidden"></div>
        <div class="inventory-info hidden"></div>
    </div>

    <div class="ply-iteminfo-container fixed hidden pointer-events-none z-[1000]">
        <div class="ply-iteminfo bg-secondary border border-border rounded-lg p-4 min-w-[250px]">
            <div class="iteminfo-content">
                <div class="item-info-title text-foreground text-base font-semibold mb-2"></div>
                <div class="item-info-line border-t border-border my-2"></div>
                <div class="item-info-description text-muted-foreground text-sm leading-relaxed"></div>
            </div>
        </div>
    </div>

    <div class="weapon-attachments-container fixed hidden top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 z-[200]">
        <div class="weapon-attachments-background bg-secondary border border-border rounded-lg p-8 min-w-[600px]">
            <div class="flex items-center justify-between mb-6">
                <div class="weapon-attachments-container-title text-foreground text-2xl font-bold">
                    Pistol | <span class="text-lg text-muted-foreground">9mm</span>
                </div>
                <img src="./attachment_images/weapon_pistol.png" class="weapon-attachments-container-image w-40 h-auto">
            </div>

            <div class="border-t border-border my-4"></div>

            <div class="weapon-attachments-title text-foreground text-lg font-semibold mb-4">
                Complementos
            </div>

            <div class="weapon-attachments grid grid-cols-4 gap-3 mb-6"></div>

            <div
                class="weapon-attachments-remove min-h-[80px] border-2 border-dashed border-border/50 rounded-md flex items-center justify-center mb-4">
                <span class="text-muted-foreground text-sm">Arrastra aquí para quitar</span>
            </div>

            <button
                class="weapon-attachments-back w-full bg-accent hover:bg-primary text-foreground px-6 py-3 rounded-md transition-colors font-medium">
                <i class="fa-solid fa-right-from-bracket text-primary mr-2"></i>Volver al Inventario
            </button>
        </div>
    </div>

    <div class="itemboxes-container fixed bottom-4 right-4 flex flex-col gap-2 z-50"></div>
    <div class="itembox-container template hidden"></div>
    <div class="requiredItem-container"></div>

    <script src="js/state.js" type="text/javascript"></script>
    <script src="js/utils.js" type="text/javascript"></script>
    <script src="js/ui-renderer.js" type="text/javascript"></script>
    <script src="js/items.js" type="text/javascript"></script>
    <script src="js/weapons.js" type="text/javascript"></script>
    <script src="js/drag-drop.js" type="text/javascript"></script>
    <script src="js/event-handlers.js" type="text/javascript"></script>
    <script src="js/inventory-core.js" type="text/javascript"></script>
    <script src="js/app.js" type="text/javascript"></script>
</body>

</html>