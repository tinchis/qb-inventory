var ln=Object.defineProperty;var cn=(e,t,n)=>t in e?ln(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;var jt=(e,t,n)=>cn(e,typeof t!="symbol"?t+"":t,n);(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))i(o);new MutationObserver(o=>{for(const s of o)if(s.type==="childList")for(const r of s.addedNodes)r.tagName==="LINK"&&r.rel==="modulepreload"&&i(r)}).observe(document,{childList:!0,subtree:!0});function n(o){const s={};return o.integrity&&(s.integrity=o.integrity),o.referrerPolicy&&(s.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?s.credentials="include":o.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function i(o){if(o.ep)return;o.ep=!0;const s=n(o);fetch(o.href,s)}})();function j(){}function Le(e){return e()}function se(){return Object.create(null)}function et(e){e.forEach(Le)}function qe(e){return typeof e=="function"}function V(e,t){return e!=e?t==t:e!==t||e&&typeof e=="object"||typeof e=="function"}let Pt;function tt(e,t){return e===t?!0:(Pt||(Pt=document.createElement("a")),Pt.href=t,e===Pt.href)}function an(e){return Object.keys(e).length===0}function un(e,...t){if(e==null){for(const i of t)i(void 0);return j}const n=e.subscribe(...t);return n.unsubscribe?()=>n.unsubscribe():n}function yt(e,t,n){e.$$.on_destroy.push(un(t,n))}function d(e,t){e.appendChild(t)}function k(e,t,n){e.insertBefore(t,n||null)}function P(e){e.parentNode&&e.parentNode.removeChild(e)}function Fe(e,t){for(let n=0;n<e.length;n+=1)e[n]&&e[n].d(t)}function b(e){return document.createElement(e)}function Rt(e){return document.createElementNS("http://www.w3.org/2000/svg",e)}function C(e){return document.createTextNode(e)}function S(){return C(" ")}function It(){return C("")}function K(e,t,n,i){return e.addEventListener(t,n,i),()=>e.removeEventListener(t,n,i)}function h(e,t,n){n==null?e.removeAttribute(t):e.getAttribute(t)!==n&&e.setAttribute(t,n)}function je(e){return e===""?null:+e}function fn(e){return Array.from(e.childNodes)}function X(e,t){t=""+t,e.data!==t&&(e.data=t)}function re(e,t){e.value=t??""}function W(e,t,n,i){n==null?e.style.removeProperty(t):e.style.setProperty(t,n,"")}function le(e,t,n){e.classList.toggle(t,!!n)}let Et;function xt(e){Et=e}function dn(){if(!Et)throw new Error("Function called outside component initialization");return Et}function Re(e){dn().$$.on_mount.push(e)}const pt=[],Nt=[];let mt=[];const ce=[],hn=Promise.resolve();let Ht=!1;function pn(){Ht||(Ht=!0,hn.then(We))}function zt(e){mt.push(e)}const Wt=new Set;let ft=0;function We(){if(ft!==0)return;const e=Et;do{try{for(;ft<pt.length;){const t=pt[ft];ft++,xt(t),mn(t.$$)}}catch(t){throw pt.length=0,ft=0,t}for(xt(null),pt.length=0,ft=0;Nt.length;)Nt.pop()();for(let t=0;t<mt.length;t+=1){const n=mt[t];Wt.has(n)||(Wt.add(n),n())}mt.length=0}while(pt.length);for(;ce.length;)ce.pop()();Ht=!1,Wt.clear(),xt(e)}function mn(e){if(e.fragment!==null){e.update(),et(e.before_update);const t=e.dirty;e.dirty=[-1],e.fragment&&e.fragment.p(e.ctx,t),e.after_update.forEach(zt)}}function gn(e){const t=[],n=[];mt.forEach(i=>e.indexOf(i)===-1?t.push(i):n.push(i)),n.forEach(i=>i()),mt=t}const Mt=new Set;let rt;function Kt(){rt={r:0,c:[],p:rt}}function Vt(){rt.r||et(rt.c),rt=rt.p}function q(e,t){e&&e.i&&(Mt.delete(e),e.i(t))}function N(e,t,n,i){if(e&&e.o){if(Mt.has(e))return;Mt.add(e),rt.c.push(()=>{Mt.delete(e),i&&(n&&e.d(1),i())}),e.o(t)}else i&&i()}function vt(e){return(e==null?void 0:e.length)!==void 0?e:Array.from(e)}function vn(e,t){e.d(1),t.delete(e.key)}function bn(e,t,n,i,o,s,r,l,c,a,f,p){let u=e.length,g=s.length,m=u;const w={};for(;m--;)w[e[m].key]=m;const _=[],v=new Map,E=new Map,I=[];for(m=g;m--;){const T=p(o,s,m),O=n(T);let L=r.get(O);L?I.push(()=>L.p(T,t)):(L=a(O,T),L.c()),v.set(O,_[m]=L),O in w&&E.set(O,Math.abs(m-w[O]))}const x=new Set,M=new Set;function D(T){q(T,1),T.m(l,f),r.set(T.key,T),f=T.first,g--}for(;u&&g;){const T=_[g-1],O=e[u-1],L=T.key,B=O.key;T===O?(f=T.first,u--,g--):v.has(B)?!r.has(L)||x.has(L)?D(T):M.has(B)?u--:E.get(L)>E.get(B)?(M.add(L),D(T)):(x.add(B),u--):(c(O,r),u--)}for(;u--;){const T=e[u];v.has(T.key)||c(T,r)}for(;g;)D(_[g-1]);return et(I),_}function Q(e){e&&e.c()}function U(e,t,n){const{fragment:i,after_update:o}=e.$$;i&&i.m(t,n),zt(()=>{const s=e.$$.on_mount.map(Le).filter(qe);e.$$.on_destroy?e.$$.on_destroy.push(...s):et(s),e.$$.on_mount=[]}),o.forEach(zt)}function G(e,t){const n=e.$$;n.fragment!==null&&(gn(n.after_update),et(n.on_destroy),n.fragment&&n.fragment.d(t),n.on_destroy=n.fragment=null,n.ctx=[])}function yn(e,t){e.$$.dirty[0]===-1&&(pt.push(e),pn(),e.$$.dirty.fill(0)),e.$$.dirty[t/31|0]|=1<<t%31}function nt(e,t,n,i,o,s,r=null,l=[-1]){const c=Et;xt(e);const a=e.$$={fragment:null,ctx:[],props:s,update:j,not_equal:o,bound:se(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(t.context||(c?c.$$.context:[])),callbacks:se(),dirty:l,skip_bound:!1,root:t.target||c.$$.root};r&&r(a.root);let f=!1;if(a.ctx=n?n(e,t.props||{},(p,u,...g)=>{const m=g.length?g[0]:u;return a.ctx&&o(a.ctx[p],a.ctx[p]=m)&&(!a.skip_bound&&a.bound[p]&&a.bound[p](m),f&&yn(e,p)),u}):[],a.update(),f=!0,et(a.before_update),a.fragment=i?i(a.ctx):!1,t.target){if(t.hydrate){const p=fn(t.target);a.fragment&&a.fragment.l(p),p.forEach(P)}else a.fragment&&a.fragment.c();t.intro&&q(e.$$.fragment),U(e,t.target,t.anchor),We()}xt(c)}class it{constructor(){jt(this,"$$");jt(this,"$$set")}$destroy(){G(this,1),this.$destroy=j}$on(t,n){if(!qe(n))return j;const i=this.$$.callbacks[t]||(this.$$.callbacks[t]=[]);return i.push(n),()=>{const o=i.indexOf(n);o!==-1&&i.splice(o,1)}}$set(t){this.$$set&&!an(t)&&(this.$$.skip_bound=!0,this.$$set(t),this.$$.skip_bound=!1)}}const _n="4";typeof window<"u"&&(window.__svelte||(window.__svelte={v:new Set})).v.add(_n);const dt=[];function wn(e,t=j){let n;const i=new Set;function o(l){if(V(e,l)&&(e=l,n)){const c=!dt.length;for(const a of i)a[1](),dt.push(a,e);if(c){for(let a=0;a<dt.length;a+=2)dt[a][0](dt[a+1]);dt.length=0}}}function s(l){o(l(e))}function r(l,c=j){const a=[l,c];return i.add(a),i.size===1&&(n=t(o,s)||j),l(e),()=>{i.delete(a),i.size===0&&n&&(n(),n=null)}}return{set:o,update:s,subscribe:r}}function xn(){const{subscribe:e,update:t}=wn({isOpen:!1,playerItems:{},otherItems:{},playerMaxWeight:12e4,otherMaxWeight:1e5,playerWeight:0,otherWeight:0,slots:50,otherSlots:40,otherLabel:"Otro Inventario",otherName:"",itemAmount:1,hoveredItem:null,clickedWeapon:null,attachmentScreen:!1,isDragging:!1,requiredItems:[],requiredItemsOpen:!1,itemBoxes:[]});function n(i,o){fetch(`https://qb-inventory/${i}`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(o)})}return{subscribe:e,handleAction(i){if(!(!i||!i.action))switch(i.action){case"open":t(o=>{var s,r,l,c,a,f;return{...o,isOpen:!0,playerItems:i.inventory||{},otherItems:((s=i.other)==null?void 0:s.inventory)||{},playerMaxWeight:i.maxweight||12e4,otherMaxWeight:((r=i.other)==null?void 0:r.maxweight)||1e5,slots:i.slots||50,otherSlots:((l=i.other)==null?void 0:l.slots)||40,otherLabel:((c=i.other)==null?void 0:c.label)||"Otro Inventario",otherName:((a=i.other)==null?void 0:a.name)||"",playerWeight:Xt(i.inventory),otherWeight:Xt((f=i.other)==null?void 0:f.inventory)}});break;case"close":t(o=>({...o,isOpen:!1,attachmentScreen:!1,clickedWeapon:null,hoveredItem:null}));break;case"update":t(o=>({...o,playerItems:i.inventory||{},playerWeight:Xt(i.inventory),playerMaxWeight:i.maxweight||o.playerMaxWeight}));break;case"itemBox":t(o=>{const s={id:Date.now(),type:i.type,item:i.item};return{...o,itemBoxes:[...o.itemBoxes,s]}}),setTimeout(()=>{t(o=>({...o,itemBoxes:o.itemBoxes.filter(s=>s.id!==Date.now())}))},3e3);break;case"requiredItem":t(o=>({...o,requiredItems:i.toggle?i.items:[],requiredItemsOpen:i.toggle}));break}},close(){t(i=>({...i,isOpen:!1,attachmentScreen:!1})),n("CloseInventory",{})},setItemAmount(i){t(o=>({...o,itemAmount:Math.max(1,Math.min(i,1e7))}))},setHoveredItem(i){t(o=>({...o,hoveredItem:i}))},setClickedWeapon(i){t(o=>({...o,clickedWeapon:i}))},openAttachmentScreen(){t(i=>({...i,attachmentScreen:!0}))},closeAttachmentScreen(){t(i=>({...i,attachmentScreen:!1}))},moveItem(i,o,s,r,l){n("SetInventoryData",{fromInventory:s,toInventory:r,fromSlot:i,toSlot:o,fromAmount:l})},useItem(i,o){t(s=>({...s,isOpen:!1})),n("UseItem",{inventory:o,item:i})},dropItem(i,o,s){n("DropItem",{inventory:o,item:i,amount:s})}}}function Xt(e){return e?Object.values(e).reduce((t,n)=>t+(n?n.weight*n.amount:0),0):0}const F=xn();function ae(e){let t,n,i;return{c(){t=b("div"),n=b("p"),i=C(e[0]),h(t,"class","item-slot-key svelte-17td2fs")},m(o,s){k(o,t,s),d(t,n),d(n,i)},p(o,s){s&1&&X(i,o[0])},d(o){o&&P(t)}}}function En(e){let t,n,i;return{c(){t=b("div"),n=S(),i=b("div"),i.innerHTML="<p>Â </p>",h(t,"class","item-slot-img svelte-17td2fs"),h(i,"class","item-slot-label svelte-17td2fs")},m(o,s){k(o,t,s),k(o,n,s),k(o,i,s)},p:j,d(o){o&&(P(t),P(n),P(i))}}}function In(e){var E;let t,n,i,o,s,r,l,c=e[2].amount+"",a,f,p,u,g=e[2].label+"",m,w,_,v=e[2].type==="weapon"&&((E=e[2].info)==null?void 0:E.quality)!==void 0&&ue(e);return{c(){t=b("div"),n=b("img"),s=S(),r=b("div"),l=b("p"),a=C(c),f=S(),p=b("div"),u=b("p"),m=C(g),w=S(),v&&v.c(),_=It(),tt(n.src,i="/images/"+e[2].image)||h(n,"src",i),h(n,"alt",o=e[2].name),h(n,"class","svelte-17td2fs"),h(t,"class","item-slot-img svelte-17td2fs"),h(r,"class","item-slot-amount svelte-17td2fs"),h(p,"class","item-slot-label svelte-17td2fs")},m(I,x){k(I,t,x),d(t,n),k(I,s,x),k(I,r,x),d(r,l),d(l,a),k(I,f,x),k(I,p,x),d(p,u),d(u,m),k(I,w,x),v&&v.m(I,x),k(I,_,x)},p(I,x){var M;x&4&&!tt(n.src,i="/images/"+I[2].image)&&h(n,"src",i),x&4&&o!==(o=I[2].name)&&h(n,"alt",o),x&4&&c!==(c=I[2].amount+"")&&X(a,c),x&4&&g!==(g=I[2].label+"")&&X(m,g),I[2].type==="weapon"&&((M=I[2].info)==null?void 0:M.quality)!==void 0?v?v.p(I,x):(v=ue(I),v.c(),v.m(_.parentNode,_)):v&&(v.d(1),v=null)},d(I){I&&(P(t),P(s),P(r),P(f),P(p),P(w),P(_)),v&&v.d(I)}}}function ue(e){let t,n,i,o=e[2].info.quality.toFixed(0)+"",s;return{c(){t=b("div"),n=b("div"),i=b("p"),s=C(o),h(i,"class","svelte-17td2fs"),h(n,"class","item-slot-quality-bar svelte-17td2fs"),W(n,"width",e[2].info.quality+"%"),W(n,"background-color",e[3]),h(t,"class","item-slot-quality svelte-17td2fs")},m(r,l){k(r,t,l),d(t,n),d(n,i),d(i,s)},p(r,l){l&4&&o!==(o=r[2].info.quality.toFixed(0)+"")&&X(s,o),l&4&&W(n,"width",r[2].info.quality+"%"),l&8&&W(n,"background-color",r[3])},d(r){r&&P(t)}}}function Sn(e){let t,n,i,o,s=e[5]&&ae(e);function r(a,f){return a[4]?In:En}let l=r(e),c=l(e);return{c(){t=b("div"),s&&s.c(),n=S(),c.c(),h(t,"class","item-slot relative aspect-square w-full h-full bg-[#101010] border border-[#242424] rounded-md cursor-pointer transition-all duration-200 flex flex-col items-center justify-center min-h-[80px] hover:border-[#0C5952] hover:bg-[#161616] hover:-translate-y-0.5 svelte-17td2fs"),h(t,"data-slot",e[0]),h(t,"data-inventory",e[1]),le(t,"item-slot-draggable",e[4])},m(a,f){k(a,t,f),s&&s.m(t,null),d(t,n),c.m(t,null),i||(o=[K(t,"mouseenter",e[6]),K(t,"mouseleave",e[7]),K(t,"dblclick",e[8]),K(t,"contextmenu",e[9])],i=!0)},p(a,[f]){a[5]?s?s.p(a,f):(s=ae(a),s.c(),s.m(t,n)):s&&(s.d(1),s=null),l===(l=r(a))&&c?c.p(a,f):(c.d(1),c=l(a),c&&(c.c(),c.m(t,null))),f&1&&h(t,"data-slot",a[0]),f&2&&h(t,"data-inventory",a[1]),f&16&&le(t,"item-slot-draggable",a[4])},i:j,o:j,d(a){a&&P(t),s&&s.d(),c.d(),i=!1,et(o)}}}function Tn(e,t,n){let i,o,s,{slot:r}=t,{inventory:l}=t,{item:c=null}=t;function a(){i&&F.setHoveredItem(c)}function f(){F.setHoveredItem(null)}function p(){i&&c.useable&&F.useItem(c,l)}function u(g){if(g.preventDefault(),i){const m=l==="player"?"other":"player";F.moveItem(r,null,l,m,1)}}return e.$$set=g=>{"slot"in g&&n(0,r=g.slot),"inventory"in g&&n(1,l=g.inventory),"item"in g&&n(2,c=g.item)},e.$$.update=()=>{var g,m;e.$$.dirty&4&&n(4,i=c!=null),e.$$.dirty&3&&n(5,o=r<=6&&l==="player"),e.$$.dirty&4&&n(3,s=((g=c==null?void 0:c.info)==null?void 0:g.quality)<25?"rgb(192, 57, 43)":((m=c==null?void 0:c.info)==null?void 0:m.quality)<50?"rgb(230, 126, 34)":"rgb(39, 174, 96)")},[r,l,c,s,i,o,a,f,p,u]}class Pn extends it{constructor(t){super(),nt(this,t,Tn,Sn,V,{slot:0,inventory:1,item:2})}}var Xe=e=>!!(e&&e.Window)&&e instanceof e.Window;let Ye,at;function Be(e){Ye=e;const t=e.document.createTextNode("");t.ownerDocument!==e.document&&typeof e.wrap=="function"&&e.wrap(t)===t&&(e=e.wrap(e)),at=e}typeof window<"u"&&window&&Be(window);function bt(e){return Xe(e)?e:(e.ownerDocument||e).defaultView||at.window}const kn=e=>e===at||Xe(e),Mn=e=>Lt(e)&&e.nodeType===11,Lt=e=>!!e&&typeof e=="object",Ne=e=>typeof e=="function",Cn=e=>typeof e=="number",$n=e=>typeof e=="boolean",Dn=e=>typeof e=="string",On=e=>{if(!e||typeof e!="object")return!1;const t=bt(e)||at;return/object|function/.test(typeof Element)?e instanceof Element||e instanceof t.Element:e.nodeType===1&&typeof e.nodeName=="string"},An=e=>Lt(e)&&!!e.constructor&&/function Object\b/.test(e.constructor.toString()),Ln=e=>Lt(e)&&typeof e.length<"u"&&Ne(e.splice);var y={window:kn,docFrag:Mn,object:Lt,func:Ne,number:Cn,bool:$n,string:Dn,element:On,plainObject:An,array:Ln};const $={init:qn,document:null,DocumentFragment:null,SVGElement:null,SVGSVGElement:null,SVGElementInstance:null,Element:null,HTMLElement:null,Event:null,Touch:null,PointerEvent:null};function ht(){}function qn(e){const t=e;$.document=t.document,$.DocumentFragment=t.DocumentFragment||ht,$.SVGElement=t.SVGElement||ht,$.SVGSVGElement=t.SVGSVGElement||ht,$.SVGElementInstance=t.SVGElementInstance||ht,$.Element=t.Element||ht,$.HTMLElement=t.HTMLElement||$.Element,$.Event=t.Event,$.Touch=t.Touch||ht,$.PointerEvent=t.PointerEvent||t.MSPointerEvent}const A={init:Fn,supportsTouch:null,supportsPointerEvent:null,isIOS7:null,isIOS:null,isIe9:null,isOperaMobile:null,prefixedMatchesSelector:null,pEventTypes:null,wheelEvent:null};function Fn(e){const t=$.Element,n=e.navigator||{};A.supportsTouch="ontouchstart"in e||y.func(e.DocumentTouch)&&$.document instanceof e.DocumentTouch,A.supportsPointerEvent=n.pointerEnabled!==!1&&!!$.PointerEvent,A.isIOS=/iP(hone|od|ad)/.test(n.platform),A.isIOS7=/iP(hone|od|ad)/.test(n.platform)&&/OS 7[^\d]/.test(n.appVersion),A.isIe9=/MSIE 9/.test(n.userAgent),A.isOperaMobile=n.appName==="Opera"&&A.supportsTouch&&/Presto/.test(n.userAgent),A.prefixedMatchesSelector="matches"in t.prototype?"matches":"webkitMatchesSelector"in t.prototype?"webkitMatchesSelector":"mozMatchesSelector"in t.prototype?"mozMatchesSelector":"oMatchesSelector"in t.prototype?"oMatchesSelector":"msMatchesSelector",A.pEventTypes=A.supportsPointerEvent?$.PointerEvent===e.MSPointerEvent?{up:"MSPointerUp",down:"MSPointerDown",over:"mouseover",out:"mouseout",move:"MSPointerMove",cancel:"MSPointerCancel"}:{up:"pointerup",down:"pointerdown",over:"pointerover",out:"pointerout",move:"pointermove",cancel:"pointercancel"}:null,A.wheelEvent=$.document&&"onmousewheel"in $.document?"mousewheel":"wheel"}function lt(e,t){if(e.contains)return e.contains(t);for(;t;){if(t===e)return!0;t=t.parentNode}return!1}function He(e,t){for(;y.element(e);){if(ct(e,t))return e;e=St(e)}return null}function St(e){let t=e.parentNode;if(y.docFrag(t)){for(;(t=t.host)&&y.docFrag(t););return t}return t}function ct(e,t){return at!==Ye&&(t=t.replace(/\/deep\//g," ")),e[A.prefixedMatchesSelector](t)}function fe(e,t,n){for(;y.element(e);){if(ct(e,t))return!0;if(e=St(e),e===n)return ct(e,t)}return!1}function de(e){return e.correspondingUseElement||e}function jn(e){return e=e||at,{x:e.scrollX||e.document.documentElement.scrollLeft,y:e.scrollY||e.document.documentElement.scrollTop}}function ze(e){const t=e instanceof $.SVGElement?e.getBoundingClientRect():e.getClientRects()[0];return t&&{left:t.left,right:t.right,top:t.top,bottom:t.bottom,width:t.width||t.right-t.left,height:t.height||t.bottom-t.top}}function Zt(e){const t=ze(e);if(!A.isIOS7&&t){const n=jn(bt(e));t.left+=n.x,t.right+=n.x,t.top+=n.y,t.bottom+=n.y}return t}function he(e){return y.string(e)?($.document.querySelector(e),!0):!1}function H(e,t){for(const i in t)e[i]=t[i];return e}function Rn(e,t,n){return e==="parent"?St(n):e==="self"?t.getRect(n):He(n,e)}function Wn(e,t,n,i){let o=e;return y.string(o)?o=Rn(o,t,n):y.func(o)&&(o=o(...i)),y.element(o)&&(o=Zt(o)),o}function Xn(e){return e&&{x:"x"in e?e.x:e.left,y:"y"in e?e.y:e.top}}function Yn(e,t,n){e.left&&(t.left+=n.x),e.right&&(t.right+=n.x),e.top&&(t.top+=n.y),e.bottom&&(t.bottom+=n.y),t.width=t.right-t.left,t.height=t.bottom-t.top}function Bn(e,t,n){const i=n&&e.options[n],s=i&&i.origin||e.options.origin,r=Wn(s,e,t,[e&&t]);return Xn(r)||{x:0,y:0}}function gt(e,t){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:o=>!0,i=arguments.length>3?arguments[3]:void 0;if(i=i||{},y.string(e)&&e.search(" ")!==-1&&(e=pe(e)),y.array(e))return e.forEach(o=>gt(o,t,n,i)),i;if(y.object(e)&&(t=e,e=""),y.func(t)&&n(e))i[e]=i[e]||[],i[e].push(t);else if(y.array(t))for(const o of t)gt(e,o,n,i);else if(y.object(t))for(const o in t){const s=pe(o).map(r=>`${e}${r}`);gt(s,t[o],n,i)}return i}function pe(e){return e.trim().split(/ +/)}var Jt=(e,t)=>Math.sqrt(e*e+t*t);const Nn=["webkit","moz"];function Ue(e,t){e.__set||(e.__set={});for(const n in t)Nn.some(i=>n.indexOf(i)===0)||typeof e[n]!="function"&&n!=="__set"&&Object.defineProperty(e,n,{get(){return n in e.__set?e.__set[n]:e.__set[n]=t[n]},set(i){e.__set[n]=i},configurable:!0});return e}function Yt(e,t){e.page=e.page||{},e.page.x=t.page.x,e.page.y=t.page.y,e.client=e.client||{},e.client.x=t.client.x,e.client.y=t.client.y,e.timeStamp=t.timeStamp}function Hn(e,t,n){e.page.x=n.page.x-t.page.x,e.page.y=n.page.y-t.page.y,e.client.x=n.client.x-t.client.x,e.client.y=n.client.y-t.client.y,e.timeStamp=n.timeStamp-t.timeStamp}function zn(e,t){const n=Math.max(t.timeStamp/1e3,.001);e.page.x=t.page.x/n,e.page.y=t.page.y/n,e.client.x=t.client.x/n,e.client.y=t.client.y/n,e.timeStamp=n}function Un(e){e.page.x=0,e.page.y=0,e.client.x=0,e.client.y=0}function Ge(e){return e instanceof $.Event||e instanceof $.Touch}function $t(e,t,n){return n=n||{},e=e||"page",n.x=t[e+"X"],n.y=t[e+"Y"],n}function Gn(e,t){return t=t||{x:0,y:0},A.isOperaMobile&&Ge(e)?($t("screen",e,t),t.x+=window.scrollX,t.y+=window.scrollY):$t("page",e,t),t}function Kn(e,t){return t=t||{},A.isOperaMobile&&Ge(e)?$t("screen",e,t):$t("client",e,t),t}function Dt(e){return y.number(e.pointerId)?e.pointerId:e.identifier}function Vn(e,t,n){const i=t.length>1?Ke(t):t[0];Gn(i,e.page),Kn(i,e.client),e.timeStamp=n}function Qt(e){const t=[];return y.array(e)?(t[0]=e[0],t[1]=e[1]):e.type==="touchend"?e.touches.length===1?(t[0]=e.touches[0],t[1]=e.changedTouches[0]):e.touches.length===0&&(t[0]=e.changedTouches[0],t[1]=e.changedTouches[1]):(t[0]=e.touches[0],t[1]=e.touches[1]),t}function Ke(e){const t={pageX:0,pageY:0,clientX:0,clientY:0,screenX:0,screenY:0};for(const n of e)for(const i in t)t[i]+=n[i];for(const n in t)t[n]/=e.length;return t}function Zn(e){if(!e.length)return null;const t=Qt(e),n=Math.min(t[0].pageX,t[1].pageX),i=Math.min(t[0].pageY,t[1].pageY),o=Math.max(t[0].pageX,t[1].pageX),s=Math.max(t[0].pageY,t[1].pageY);return{x:n,y:i,left:n,top:i,right:o,bottom:s,width:o-n,height:s-i}}function Jn(e,t){const n=t+"X",i=t+"Y",o=Qt(e),s=o[0][n]-o[1][n],r=o[0][i]-o[1][i];return Jt(s,r)}function Qn(e,t){const n=t+"X",i=t+"Y",o=Qt(e),s=o[1][n]-o[0][n],r=o[1][i]-o[0][i];return 180*Math.atan2(r,s)/Math.PI}function ti(e){return y.string(e.pointerType)?e.pointerType:y.number(e.pointerType)?[void 0,void 0,"touch","pen","mouse"][e.pointerType]:/touch/.test(e.type||"")||e instanceof $.Touch?"touch":"mouse"}function Ve(e){const t=y.func(e.composedPath)?e.composedPath():e.path;return[de(t?t[0]:e.target),de(e.currentTarget)]}function _t(){return{page:{x:0,y:0},client:{x:0,y:0},timeStamp:0}}class Ze{constructor(t){this.immediatePropagationStopped=!1,this.propagationStopped=!1,this._interaction=t}preventDefault(){}stopPropagation(){this.propagationStopped=!0}stopImmediatePropagation(){this.immediatePropagationStopped=this.propagationStopped=!0}}Object.defineProperty(Ze.prototype,"interaction",{get(){return this._interaction._proxy},set(){}});const Je=(e,t)=>{for(const n of t)e.push(n);return e},Qe=e=>Je([],e),qt=(e,t)=>{for(let n=0;n<e.length;n++)if(t(e[n],n,e))return n;return-1},Ct=(e,t)=>e[qt(e,t)];let me=0,z,st;function ei(e){if(z=e.requestAnimationFrame,st=e.cancelAnimationFrame,!z){const t=["ms","moz","webkit","o"];for(const n of t)z=e[`${n}RequestAnimationFrame`],st=e[`${n}CancelAnimationFrame`]||e[`${n}CancelRequestAnimationFrame`]}z=z&&z.bind(e),st=st&&st.bind(e),z||(z=t=>{const n=Date.now(),i=Math.max(0,16-(n-me)),o=e.setTimeout(()=>{t(n+i)},i);return me=n+i,o},st=t=>clearTimeout(t))}var ni={request:e=>z(e),cancel:e=>st(e),init:ei};function Ut(e,t){let n=!1;return function(){return n||(at.console.warn(t),n=!0),e.apply(this,arguments)}}function ii(e,t){return e.name=t.name,e.axis=t.axis,e.edges=t.edges,e}const oi=function(t){return/^(always|never|auto)$/.test(t)?(this.options.preventDefault=t,this):y.bool(t)?(this.options.preventDefault=t?"always":"never",this):this.options.preventDefault};function si(e,t,n){const i=e.options.preventDefault;if(i!=="never"){if(i==="always"){n.preventDefault();return}if(t.events.supportsPassive&&/^touch(start|move)$/.test(n.type)){const o=bt(n.target).document,s=t.getDocOptions(o);if(!(s&&s.events)||s.events.passive!==!1)return}/^(mouse|pointer|touch)*(down|start)/i.test(n.type)||y.element(n.target)&&ct(n.target,"input,select,textarea,[contenteditable=true],[contenteditable=true] *")||n.preventDefault()}}function ri(e){let{interaction:t,event:n}=e;t.interactable&&t.interactable.checkAndPreventDefault(n)}function li(e){const{Interactable:t}=e;t.prototype.preventDefault=oi,t.prototype.checkAndPreventDefault=function(n){return si(this,e,n)},e.interactions.docEvents.push({type:"dragstart",listener(n){for(const i of e.interactions.list)if(i.element&&(i.element===n.target||lt(i.element,n.target))){i.interactable.checkAndPreventDefault(n);return}}})}var ci={id:"core/interactablePreventDefault",install:li,listeners:["down","move","up","cancel"].reduce((e,t)=>(e[`interactions:${t}`]=ri,e),{})};function Ot(e,t){if(t.phaselessTypes[e])return!0;for(const n in t.map)if(e.indexOf(n)===0&&e.substr(n.length)in t.phases)return!0;return!1}function At(e){const t={};for(const n in e){const i=e[n];y.plainObject(i)?t[n]=At(i):y.array(i)?t[n]=Qe(i):t[n]=i}return t}const tn={base:{preventDefault:"auto",deltaSource:"page"},perAction:{enabled:!1,origin:{x:0,y:0}},actions:{}};class te extends Ze{constructor(t,n,i,o,s,r,l){super(t),this.relatedTarget=null,this.screenX=void 0,this.screenY=void 0,this.button=void 0,this.buttons=void 0,this.ctrlKey=void 0,this.shiftKey=void 0,this.altKey=void 0,this.metaKey=void 0,this.page=void 0,this.client=void 0,this.delta=void 0,this.rect=void 0,this.x0=void 0,this.y0=void 0,this.t0=void 0,this.dt=void 0,this.duration=void 0,this.clientX0=void 0,this.clientY0=void 0,this.velocity=void 0,this.speed=void 0,this.swipe=void 0,this.axes=void 0,this.preEnd=void 0,s=s||t.element;const c=t.interactable,a=(c&&c.options||tn).deltaSource,f=Bn(c,s,i),p=o==="start",u=o==="end",g=p?this:t.prevEvent,m=p?t.coords.start:u?{page:g.page,client:g.client,timeStamp:t.coords.cur.timeStamp}:t.coords.cur;this.page=H({},m.page),this.client=H({},m.client),this.rect=H({},t.rect),this.timeStamp=m.timeStamp,u||(this.page.x-=f.x,this.page.y-=f.y,this.client.x-=f.x,this.client.y-=f.y),this.ctrlKey=n.ctrlKey,this.altKey=n.altKey,this.shiftKey=n.shiftKey,this.metaKey=n.metaKey,this.button=n.button,this.buttons=n.buttons,this.target=s,this.currentTarget=s,this.preEnd=r,this.type=l||i+(o||""),this.interactable=c,this.t0=p?t.pointers[t.pointers.length-1].downTime:g.t0,this.x0=t.coords.start.page.x-f.x,this.y0=t.coords.start.page.y-f.y,this.clientX0=t.coords.start.client.x-f.x,this.clientY0=t.coords.start.client.y-f.y,p||u?this.delta={x:0,y:0}:this.delta={x:this[a].x-g[a].x,y:this[a].y-g[a].y},this.dt=t.coords.delta.timeStamp,this.duration=this.timeStamp-this.t0,this.velocity=H({},t.coords.velocity[a]),this.speed=Jt(this.velocity.x,this.velocity.y),this.swipe=u||o==="inertiastart"?this.getSwipe():null}getSwipe(){const t=this._interaction;if(t.prevEvent.speed<600||this.timeStamp-t.prevEvent.timeStamp>150)return null;let n=180*Math.atan2(t.prevEvent.velocityY,t.prevEvent.velocityX)/Math.PI;const i=22.5;n<0&&(n+=360);const o=135-i<=n&&n<225+i,s=225-i<=n&&n<315+i,r=!o&&(315-i<=n||n<45+i),l=!s&&45-i<=n&&n<135+i;return{up:s,down:l,left:o,right:r,angle:n,speed:t.prevEvent.speed,velocity:{x:t.prevEvent.velocityX,y:t.prevEvent.velocityY}}}preventDefault(){}stopImmediatePropagation(){this.immediatePropagationStopped=this.propagationStopped=!0}stopPropagation(){this.propagationStopped=!0}}Object.defineProperties(te.prototype,{pageX:{get(){return this.page.x},set(e){this.page.x=e}},pageY:{get(){return this.page.y},set(e){this.page.y=e}},clientX:{get(){return this.client.x},set(e){this.client.x=e}},clientY:{get(){return this.client.y},set(e){this.client.y=e}},dx:{get(){return this.delta.x},set(e){this.delta.x=e}},dy:{get(){return this.delta.y},set(e){this.delta.y=e}},velocityX:{get(){return this.velocity.x},set(e){this.velocity.x=e}},velocityY:{get(){return this.velocity.y},set(e){this.velocity.y=e}}});class ai{constructor(t,n,i,o,s){this.id=void 0,this.pointer=void 0,this.event=void 0,this.downTime=void 0,this.downTarget=void 0,this.id=t,this.pointer=n,this.event=i,this.downTime=o,this.downTarget=s}}let ui=function(e){return e.interactable="",e.element="",e.prepared="",e.pointerIsDown="",e.pointerWasMoved="",e._proxy="",e}({}),fi=function(e){return e.start="",e.move="",e.end="",e.stop="",e.interacting="",e}({}),di=0;class hi{get pointerMoveTolerance(){return 1}constructor(t){this.interactable=null,this.element=null,this.rect=null,this._rects=void 0,this.edges=null,this._scopeFire=void 0,this.prepared={name:null,axis:null,edges:null},this.pointerType=void 0,this.pointers=[],this.downEvent=null,this.downPointer={},this._latestPointer={pointer:null,event:null,eventTarget:null},this.prevEvent=null,this.pointerIsDown=!1,this.pointerWasMoved=!1,this._interacting=!1,this._ending=!1,this._stopped=!0,this._proxy=void 0,this.simulation=null,this.doMove=Ut(function(s){this.move(s)},"The interaction.doMove() method has been renamed to interaction.move()"),this.coords={start:_t(),prev:_t(),cur:_t(),delta:_t(),velocity:_t()},this._id=di++;let{pointerType:n,scopeFire:i}=t;this._scopeFire=i,this.pointerType=n;const o=this;this._proxy={};for(const s in ui)Object.defineProperty(this._proxy,s,{get(){return o[s]}});for(const s in fi)Object.defineProperty(this._proxy,s,{value:function(){return o[s](...arguments)}});this._scopeFire("interactions:new",{interaction:this})}pointerDown(t,n,i){const o=this.updatePointer(t,n,i,!0),s=this.pointers[o];this._scopeFire("interactions:down",{pointer:t,event:n,eventTarget:i,pointerIndex:o,pointerInfo:s,type:"down",interaction:this})}start(t,n,i){return this.interacting()||!this.pointerIsDown||this.pointers.length<(t.name==="gesture"?2:1)||!n.options[t.name].enabled?!1:(ii(this.prepared,t),this.interactable=n,this.element=i,this.rect=n.getRect(i),this.edges=this.prepared.edges?H({},this.prepared.edges):{left:!0,right:!0,top:!0,bottom:!0},this._stopped=!1,this._interacting=this._doPhase({interaction:this,event:this.downEvent,phase:"start"})&&!this._stopped,this._interacting)}pointerMove(t,n,i){!this.simulation&&!(this.modification&&this.modification.endResult)&&this.updatePointer(t,n,i,!1);const o=this.coords.cur.page.x===this.coords.prev.page.x&&this.coords.cur.page.y===this.coords.prev.page.y&&this.coords.cur.client.x===this.coords.prev.client.x&&this.coords.cur.client.y===this.coords.prev.client.y;let s,r;this.pointerIsDown&&!this.pointerWasMoved&&(s=this.coords.cur.client.x-this.coords.start.client.x,r=this.coords.cur.client.y-this.coords.start.client.y,this.pointerWasMoved=Jt(s,r)>this.pointerMoveTolerance);const l=this.getPointerIndex(t),c={pointer:t,pointerIndex:l,pointerInfo:this.pointers[l],event:n,type:"move",eventTarget:i,dx:s,dy:r,duplicate:o,interaction:this};o||zn(this.coords.velocity,this.coords.delta),this._scopeFire("interactions:move",c),!o&&!this.simulation&&(this.interacting()&&(c.type=null,this.move(c)),this.pointerWasMoved&&Yt(this.coords.prev,this.coords.cur))}move(t){(!t||!t.event)&&Un(this.coords.delta),t=H({pointer:this._latestPointer.pointer,event:this._latestPointer.event,eventTarget:this._latestPointer.eventTarget,interaction:this},t||{}),t.phase="move",this._doPhase(t)}pointerUp(t,n,i,o){let s=this.getPointerIndex(t);s===-1&&(s=this.updatePointer(t,n,i,!1));const r=/cancel$/i.test(n.type)?"cancel":"up";this._scopeFire(`interactions:${r}`,{pointer:t,pointerIndex:s,pointerInfo:this.pointers[s],event:n,eventTarget:i,type:r,curEventTarget:o,interaction:this}),this.simulation||this.end(n),this.removePointer(t,n)}documentBlur(t){this.end(t),this._scopeFire("interactions:blur",{event:t,type:"blur",interaction:this})}end(t){this._ending=!0,t=t||this._latestPointer.event;let n;this.interacting()&&(n=this._doPhase({event:t,interaction:this,phase:"end"})),this._ending=!1,n===!0&&this.stop()}currentAction(){return this._interacting?this.prepared.name:null}interacting(){return this._interacting}stop(){this._scopeFire("interactions:stop",{interaction:this}),this.interactable=this.element=null,this._interacting=!1,this._stopped=!0,this.prepared.name=this.prevEvent=null}getPointerIndex(t){const n=Dt(t);return this.pointerType==="mouse"||this.pointerType==="pen"?this.pointers.length-1:qt(this.pointers,i=>i.id===n)}getPointerInfo(t){return this.pointers[this.getPointerIndex(t)]}updatePointer(t,n,i,o){const s=Dt(t);let r=this.getPointerIndex(t),l=this.pointers[r];return o=o===!1?!1:o||/(down|start)$/i.test(n.type),l?l.pointer=t:(l=new ai(s,t,n,null,null),r=this.pointers.length,this.pointers.push(l)),Vn(this.coords.cur,this.pointers.map(c=>c.pointer),this._now()),Hn(this.coords.delta,this.coords.prev,this.coords.cur),o&&(this.pointerIsDown=!0,l.downTime=this.coords.cur.timeStamp,l.downTarget=i,Ue(this.downPointer,t),this.interacting()||(Yt(this.coords.start,this.coords.cur),Yt(this.coords.prev,this.coords.cur),this.downEvent=n,this.pointerWasMoved=!1)),this._updateLatestPointer(t,n,i),this._scopeFire("interactions:update-pointer",{pointer:t,event:n,eventTarget:i,down:o,pointerInfo:l,pointerIndex:r,interaction:this}),r}removePointer(t,n){const i=this.getPointerIndex(t);if(i===-1)return;const o=this.pointers[i];this._scopeFire("interactions:remove-pointer",{pointer:t,event:n,eventTarget:null,pointerIndex:i,pointerInfo:o,interaction:this}),this.pointers.splice(i,1),this.pointerIsDown=!1}_updateLatestPointer(t,n,i){this._latestPointer.pointer=t,this._latestPointer.event=n,this._latestPointer.eventTarget=i}destroy(){this._latestPointer.pointer=null,this._latestPointer.event=null,this._latestPointer.eventTarget=null}_createPreparedEvent(t,n,i,o){return new te(this,t,this.prepared.name,n,this.element,i,o)}_fireEvent(t){var n;(n=this.interactable)==null||n.fire(t),(!this.prevEvent||t.timeStamp>=this.prevEvent.timeStamp)&&(this.prevEvent=t)}_doPhase(t){const{event:n,phase:i,preEnd:o,type:s}=t,{rect:r}=this;if(r&&i==="move"&&(Yn(this.edges,r,this.coords.delta[this.interactable.options.deltaSource]),r.width=r.right-r.left,r.height=r.bottom-r.top),this._scopeFire(`interactions:before-action-${i}`,t)===!1)return!1;const c=t.iEvent=this._createPreparedEvent(n,i,o,s);return this._scopeFire(`interactions:action-${i}`,t),i==="start"&&(this.prevEvent=c),this._fireEvent(c),this._scopeFire(`interactions:after-action-${i}`,t),!0}_now(){return Date.now()}}function ge(e,t){for(const n of t){if(e.immediatePropagationStopped)break;n(e)}}class en{constructor(t){this.options=void 0,this.types={},this.propagationStopped=!1,this.immediatePropagationStopped=!1,this.global=void 0,this.options=H({},t||{})}fire(t){let n;const i=this.global;(n=this.types[t.type])&&ge(t,n),!t.propagationStopped&&i&&(n=i[t.type])&&ge(t,n)}on(t,n){const i=gt(t,n);for(t in i)this.types[t]=Je(this.types[t]||[],i[t])}off(t,n){const i=gt(t,n);for(t in i){const o=this.types[t];if(!(!o||!o.length))for(const s of i[t]){const r=o.indexOf(s);r!==-1&&o.splice(r,1)}}}getRect(t){return null}}function pi(e){var t;const n=[],i={},o=[],s={add:r,remove:l,addDelegate:c,removeDelegate:a,delegateListener:f,delegateUseCapture:p,delegatedEvents:i,documents:o,targets:n,supportsOptions:!1,supportsPassive:!1};(t=e.document)==null||t.createElement("div").addEventListener("test",null,{get capture(){return s.supportsOptions=!0},get passive(){return s.supportsPassive=!0}}),e.events=s;function r(u,g,m,w){if(!u.addEventListener)return;const _=wt(w);let v=Ct(n,E=>E.eventTarget===u);v||(v={eventTarget:u,events:{}},n.push(v)),v.events[g]||(v.events[g]=[]),Ct(v.events[g],E=>E.func===m&&kt(E.options,_))||(u.addEventListener(g,m,s.supportsOptions?_:_.capture),v.events[g].push({func:m,options:_}))}function l(u,g,m,w){if(!u.addEventListener||!u.removeEventListener)return;const _=qt(n,x=>x.eventTarget===u),v=n[_];if(!v||!v.events)return;if(g==="all"){for(g in v.events)v.events.hasOwnProperty(g)&&l(u,g,"all");return}let E=!1;const I=v.events[g];if(I)if(m==="all"){for(let x=I.length-1;x>=0;x--){const M=I[x];l(u,g,M.func,M.options)}return}else{const x=wt(w);for(let M=0;M<I.length;M++){const D=I[M];if(D.func===m&&kt(D.options,x)){u.removeEventListener(g,m,s.supportsOptions?x:x.capture),I.splice(M,1),I.length===0&&(delete v.events[g],E=!0);break}}}E&&!Object.keys(v.events).length&&n.splice(_,1)}function c(u,g,m,w,_){const v=wt(_);if(!i[m]){i[m]=[];for(const x of o)r(x,m,f),r(x,m,p,!0)}const E=i[m];let I=Ct(E,x=>x.selector===u&&x.context===g);I||(I={selector:u,context:g,listeners:[]},E.push(I)),I.listeners.push({func:w,options:v})}function a(u,g,m,w,_){const v=wt(_),E=i[m];let I=!1,x;if(E)for(x=E.length-1;x>=0;x--){const M=E[x];if(M.selector===u&&M.context===g){const{listeners:D}=M;for(let T=D.length-1;T>=0;T--){const O=D[T];if(O.func===w&&kt(O.options,v)){D.splice(T,1),D.length||(E.splice(x,1),l(g,m,f),l(g,m,p,!0)),I=!0;break}}if(I)break}}}function f(u,g){const m=wt(g),w=new mi(u),_=i[u.type],[v]=Ve(u);let E=v;for(;y.element(E);){for(let I=0;I<_.length;I++){const x=_[I],{selector:M,context:D}=x;if(ct(E,M)&&lt(D,v)&&lt(D,E)){const{listeners:T}=x;w.currentTarget=E;for(const O of T)kt(O.options,m)&&O.func(w)}}E=St(E)}}function p(u){return f.call(this,u,!0)}return s}class mi{constructor(t){this.currentTarget=void 0,this.originalEvent=void 0,this.type=void 0,this.originalEvent=t,Ue(this,t)}preventOriginalDefault(){this.originalEvent.preventDefault()}stopPropagation(){this.originalEvent.stopPropagation()}stopImmediatePropagation(){this.originalEvent.stopImmediatePropagation()}}function wt(e){return y.object(e)?{capture:!!e.capture,passive:!!e.passive}:{capture:!!e,passive:!1}}function kt(e,t){return e===t?!0:typeof e=="boolean"?!!t.capture===e&&!t.passive:!!e.capture==!!t.capture&&!!e.passive==!!t.passive}var gi={id:"events",install:pi};const Gt={methodOrder:["simulationResume","mouseOrPen","hasPointer","idle"],search(e){for(const t of Gt.methodOrder){const n=Gt[t](e);if(n)return n}return null},simulationResume(e){let{pointerType:t,eventType:n,eventTarget:i,scope:o}=e;if(!/down|start/i.test(n))return null;for(const s of o.interactions.list){let r=i;if(s.simulation&&s.simulation.allowResume&&s.pointerType===t)for(;r;){if(r===s.element)return s;r=St(r)}}return null},mouseOrPen(e){let{pointerId:t,pointerType:n,eventType:i,scope:o}=e;if(n!=="mouse"&&n!=="pen")return null;let s;for(const r of o.interactions.list)if(r.pointerType===n){if(r.simulation&&!ve(r,t))continue;if(r.interacting())return r;s||(s=r)}if(s)return s;for(const r of o.interactions.list)if(r.pointerType===n&&!(/down/i.test(i)&&r.simulation))return r;return null},hasPointer(e){let{pointerId:t,scope:n}=e;for(const i of n.interactions.list)if(ve(i,t))return i;return null},idle(e){let{pointerType:t,scope:n}=e;for(const i of n.interactions.list){if(i.pointers.length===1){const o=i.interactable;if(o&&!(o.options.gesture&&o.options.gesture.enabled))continue}else if(i.pointers.length>=2)continue;if(!i.interacting()&&t===i.pointerType)return i}return null}};function ve(e,t){return e.pointers.some(n=>{let{id:i}=n;return i===t})}const nn=["pointerDown","pointerMove","pointerUp","updatePointer","removePointer","windowBlur"];function vi(e){const t={};for(const s of nn)t[s]=on(s,e);const n=A.pEventTypes;let i;$.PointerEvent?i=[{type:n.down,listener:o},{type:n.down,listener:t.pointerDown},{type:n.move,listener:t.pointerMove},{type:n.up,listener:t.pointerUp},{type:n.cancel,listener:t.pointerUp}]:i=[{type:"mousedown",listener:t.pointerDown},{type:"mousemove",listener:t.pointerMove},{type:"mouseup",listener:t.pointerUp},{type:"touchstart",listener:o},{type:"touchstart",listener:t.pointerDown},{type:"touchmove",listener:t.pointerMove},{type:"touchend",listener:t.pointerUp},{type:"touchcancel",listener:t.pointerUp}],i.push({type:"blur",listener(s){for(const r of e.interactions.list)r.documentBlur(s)}}),e.prevTouchTime=0,e.Interaction=class extends hi{get pointerMoveTolerance(){return e.interactions.pointerMoveTolerance}set pointerMoveTolerance(s){e.interactions.pointerMoveTolerance=s}_now(){return e.now()}},e.interactions={list:[],new(s){s.scopeFire=(l,c)=>e.fire(l,c);const r=new e.Interaction(s);return e.interactions.list.push(r),r},listeners:t,docEvents:i,pointerMoveTolerance:1};function o(){for(const s of e.interactions.list)if(!(!s.pointerIsDown||s.pointerType!=="touch"||s._interacting))for(const r of s.pointers)e.documents.some(l=>{let{doc:c}=l;return lt(c,r.downTarget)})||s.removePointer(r.pointer,r.event)}e.usePlugin(ci)}function on(e,t){return function(n){const i=t.interactions.list,o=ti(n),[s,r]=Ve(n),l=[];if(/^touch/.test(n.type)){t.prevTouchTime=t.now();for(const c of n.changedTouches){const a=c,f=Dt(a),p={pointer:a,pointerId:f,pointerType:o,eventType:n.type,eventTarget:s,curEventTarget:r,scope:t},u=be(p);l.push([p.pointer,p.eventTarget,p.curEventTarget,u])}}else{let c=!1;if(!A.supportsPointerEvent&&/mouse/.test(n.type)){for(let a=0;a<i.length&&!c;a++)c=i[a].pointerType!=="mouse"&&i[a].pointerIsDown;c=c||t.now()-t.prevTouchTime<500||n.timeStamp===0}if(!c){const a={pointer:n,pointerId:Dt(n),pointerType:o,eventType:n.type,curEventTarget:r,eventTarget:s,scope:t},f=be(a);l.push([a.pointer,a.eventTarget,a.curEventTarget,f])}}for(const[c,a,f,p]of l)p[e](c,n,a,f)}}function be(e){const{pointerType:t,scope:n}=e,o={interaction:Gt.search(e),searchDetails:e};return n.fire("interactions:find",o),o.interaction||n.interactions.new({pointerType:t})}function Bt(e,t){let{doc:n,scope:i,options:o}=e;const{interactions:{docEvents:s},events:r}=i,l=r[t];i.browser.isIOS&&!o.events&&(o.events={passive:!1});for(const a in r.delegatedEvents)l(n,a,r.delegateListener),l(n,a,r.delegateUseCapture,!0);const c=o&&o.events;for(const{type:a,listener:f}of s)l(n,a,f,c)}const bi={id:"core/interactions",install:vi,listeners:{"scope:add-document":e=>Bt(e,"add"),"scope:remove-document":e=>Bt(e,"remove"),"interactable:unset":(e,t)=>{let{interactable:n}=e;for(let i=t.interactions.list.length-1;i>=0;i--){const o=t.interactions.list[i];o.interactable===n&&(o.stop(),t.fire("interactions:destroy",{interaction:o}),o.destroy(),t.interactions.list.length>2&&t.interactions.list.splice(i,1))}}},onDocSignal:Bt,doOnInteractions:on,methodNames:nn};var J=function(e){return e[e.On=0]="On",e[e.Off=1]="Off",e}(J||{});class yi{get _defaults(){return{base:{},perAction:{},actions:{}}}constructor(t,n,i,o){this.target=void 0,this.options=void 0,this._actions=void 0,this.events=new en,this._context=void 0,this._win=void 0,this._doc=void 0,this._scopeEvents=void 0,this._actions=n.actions,this.target=t,this._context=n.context||i,this._win=bt(he(t)?this._context:t),this._doc=this._win.document,this._scopeEvents=o,this.set(n)}setOnEvents(t,n){return y.func(n.onstart)&&this.on(`${t}start`,n.onstart),y.func(n.onmove)&&this.on(`${t}move`,n.onmove),y.func(n.onend)&&this.on(`${t}end`,n.onend),y.func(n.oninertiastart)&&this.on(`${t}inertiastart`,n.oninertiastart),this}updatePerActionListeners(t,n,i){var o;const s=(o=this._actions.map[t])==null?void 0:o.filterEventType,r=l=>(s==null||s(l))&&Ot(l,this._actions);(y.array(n)||y.object(n))&&this._onOff(J.Off,t,n,void 0,r),(y.array(i)||y.object(i))&&this._onOff(J.On,t,i,void 0,r)}setPerAction(t,n){const i=this._defaults;for(const o in n){const s=o,r=this.options[t],l=n[s];s==="listeners"&&this.updatePerActionListeners(t,r.listeners,l),y.array(l)?r[s]=Qe(l):y.plainObject(l)?(r[s]=H(r[s]||{},At(l)),y.object(i.perAction[s])&&"enabled"in i.perAction[s]&&(r[s].enabled=l.enabled!==!1)):y.bool(l)&&y.object(i.perAction[s])?r[s].enabled=l:r[s]=l}}getRect(t){return t=t||(y.element(this.target)?this.target:null),y.string(this.target)&&(t=t||this._context.querySelector(this.target)),Zt(t)}rectChecker(t){return y.func(t)?(this.getRect=n=>{const i=H({},t.apply(this,n));return"width"in i||(i.width=i.right-i.left,i.height=i.bottom-i.top),i},this):t===null?(delete this.getRect,this):this.getRect}_backCompatOption(t,n){if(he(n)||y.object(n)){this.options[t]=n;for(const i in this._actions.map)this.options[i][t]=n;return this}return this.options[t]}origin(t){return this._backCompatOption("origin",t)}deltaSource(t){return t==="page"||t==="client"?(this.options.deltaSource=t,this):this.options.deltaSource}getAllElements(){const{target:t}=this;return y.string(t)?Array.from(this._context.querySelectorAll(t)):y.func(t)&&t.getAllElements?t.getAllElements():y.element(t)?[t]:[]}context(){return this._context}inContext(t){return this._context===t.ownerDocument||lt(this._context,t)}testIgnoreAllow(t,n,i){return!this.testIgnore(t.ignoreFrom,n,i)&&this.testAllow(t.allowFrom,n,i)}testAllow(t,n,i){return t?y.element(i)?y.string(t)?fe(i,t,n):y.element(t)?lt(t,i):!1:!1:!0}testIgnore(t,n,i){return!t||!y.element(i)?!1:y.string(t)?fe(i,t,n):y.element(t)?lt(t,i):!1}fire(t){return this.events.fire(t),this}_onOff(t,n,i,o,s){y.object(n)&&!y.array(n)&&(o=i,i=null);const r=gt(n,i,s);for(let l in r){l==="wheel"&&(l=A.wheelEvent);for(const c of r[l])Ot(l,this._actions)?this.events[t===J.On?"on":"off"](l,c):y.string(this.target)?this._scopeEvents[t===J.On?"addDelegate":"removeDelegate"](this.target,this._context,l,c,o):this._scopeEvents[t===J.On?"add":"remove"](this.target,l,c,o)}return this}on(t,n,i){return this._onOff(J.On,t,n,i)}off(t,n,i){return this._onOff(J.Off,t,n,i)}set(t){const n=this._defaults;y.object(t)||(t={}),this.options=At(n.base);for(const i in this._actions.methodDict){const o=i,s=this._actions.methodDict[o];this.options[o]={},this.setPerAction(o,H(H({},n.perAction),n.actions[o])),this[s](t[o])}for(const i in t){if(i==="getRect"){this.rectChecker(t.getRect);continue}y.func(this[i])&&this[i](t[i])}return this}unset(){if(y.string(this.target))for(const t in this._scopeEvents.delegatedEvents){const n=this._scopeEvents.delegatedEvents[t];for(let i=n.length-1;i>=0;i--){const{selector:o,context:s,listeners:r}=n[i];o===this.target&&s===this._context&&n.splice(i,1);for(let l=r.length-1;l>=0;l--)this._scopeEvents.removeDelegate(this.target,this._context,t,r[l][0],r[l][1])}}else this._scopeEvents.remove(this.target,"all")}}class _i{constructor(t){this.list=[],this.selectorMap={},this.scope=void 0,this.scope=t,t.addListeners({"interactable:unset":n=>{let{interactable:i}=n;const{target:o}=i,s=y.string(o)?this.selectorMap[o]:o[this.scope.id],r=qt(s,l=>l===i);s.splice(r,1)}})}new(t,n){n=H(n||{},{actions:this.scope.actions});const i=new this.scope.Interactable(t,n,this.scope.document,this.scope.events);return this.scope.addDocument(i._doc),this.list.push(i),y.string(t)?(this.selectorMap[t]||(this.selectorMap[t]=[]),this.selectorMap[t].push(i)):(i.target[this.scope.id]||Object.defineProperty(t,this.scope.id,{value:[],configurable:!0}),t[this.scope.id].push(i)),this.scope.fire("interactable:new",{target:t,options:n,interactable:i,win:this.scope._win}),i}getExisting(t,n){const i=n&&n.context||this.scope.document,o=y.string(t),s=o?this.selectorMap[t]:t[this.scope.id];if(s)return Ct(s,r=>r._context===i&&(o||r.inContext(t)))}forEachMatch(t,n){for(const i of this.list){let o;if((y.string(i.target)?y.element(t)&&ct(t,i.target):t===i.target)&&i.inContext(t)&&(o=n(i)),o!==void 0)return o}}}function wi(e){const t=(n,i)=>{let o=e.interactables.getExisting(n,i);return o||(o=e.interactables.new(n,i),o.events.global=t.globalEvents),o};return t.getPointerAverage=Ke,t.getTouchBBox=Zn,t.getTouchDistance=Jn,t.getTouchAngle=Qn,t.getElementRect=Zt,t.getElementClientRect=ze,t.matchesSelector=ct,t.closest=He,t.globalEvents={},t.version="1.10.27",t.scope=e,t.use=function(n,i){return this.scope.usePlugin(n,i),this},t.isSet=function(n,i){return!!this.scope.interactables.get(n,i&&i.context)},t.on=Ut(function(i,o,s){if(y.string(i)&&i.search(" ")!==-1&&(i=i.trim().split(/ +/)),y.array(i)){for(const r of i)this.on(r,o,s);return this}if(y.object(i)){for(const r in i)this.on(r,i[r],o);return this}return Ot(i,this.scope.actions)?this.globalEvents[i]?this.globalEvents[i].push(o):this.globalEvents[i]=[o]:this.scope.events.add(this.scope.document,i,o,{options:s}),this},"The interact.on() method is being deprecated"),t.off=Ut(function(i,o,s){if(y.string(i)&&i.search(" ")!==-1&&(i=i.trim().split(/ +/)),y.array(i)){for(const r of i)this.off(r,o,s);return this}if(y.object(i)){for(const r in i)this.off(r,i[r],o);return this}if(Ot(i,this.scope.actions)){let r;i in this.globalEvents&&(r=this.globalEvents[i].indexOf(o))!==-1&&this.globalEvents[i].splice(r,1)}else this.scope.events.remove(this.scope.document,i,o,s);return this},"The interact.off() method is being deprecated"),t.debug=function(){return this.scope},t.supportsTouch=function(){return A.supportsTouch},t.supportsPointerEvent=function(){return A.supportsPointerEvent},t.stop=function(){for(const n of this.scope.interactions.list)n.stop();return this},t.pointerMoveTolerance=function(n){return y.number(n)?(this.scope.interactions.pointerMoveTolerance=n,this):this.scope.interactions.pointerMoveTolerance},t.addDocument=function(n,i){this.scope.addDocument(n,i)},t.removeDocument=function(n){this.scope.removeDocument(n)},t}class xi{constructor(){this.id=`__interact_scope_${Math.floor(Math.random()*100)}`,this.isInitialized=!1,this.listenerMaps=[],this.browser=A,this.defaults=At(tn),this.Eventable=en,this.actions={map:{},phases:{start:!0,move:!0,end:!0},methodDict:{},phaselessTypes:{}},this.interactStatic=wi(this),this.InteractEvent=te,this.Interactable=void 0,this.interactables=new _i(this),this._win=void 0,this.document=void 0,this.window=void 0,this.documents=[],this._plugins={list:[],map:{}},this.onWindowUnload=n=>this.removeDocument(n.target);const t=this;this.Interactable=class extends yi{get _defaults(){return t.defaults}set(n){return super.set(n),t.fire("interactable:set",{options:n,interactable:this}),this}unset(){super.unset();const n=t.interactables.list.indexOf(this);n<0||(t.interactables.list.splice(n,1),t.fire("interactable:unset",{interactable:this}))}}}addListeners(t,n){this.listenerMaps.push({id:n,map:t})}fire(t,n){for(const{map:{[t]:i}}of this.listenerMaps)if(i&&i(n,this,t)===!1)return!1}init(t){return this.isInitialized?this:Ei(this,t)}pluginIsInstalled(t){const{id:n}=t;return n?!!this._plugins.map[n]:this._plugins.list.indexOf(t)!==-1}usePlugin(t,n){if(!this.isInitialized)return this;if(this.pluginIsInstalled(t))return this;if(t.id&&(this._plugins.map[t.id]=t),this._plugins.list.push(t),t.install&&t.install(this,n),t.listeners&&t.before){let i=0;const o=this.listenerMaps.length,s=t.before.reduce((r,l)=>(r[l]=!0,r[ye(l)]=!0,r),{});for(;i<o;i++){const r=this.listenerMaps[i].id;if(r&&(s[r]||s[ye(r)]))break}this.listenerMaps.splice(i,0,{id:t.id,map:t.listeners})}else t.listeners&&this.listenerMaps.push({id:t.id,map:t.listeners});return this}addDocument(t,n){if(this.getDocIndex(t)!==-1)return!1;const i=bt(t);n=n?H({},n):{},this.documents.push({doc:t,options:n}),this.events.documents.push(t),t!==this.document&&this.events.add(i,"unload",this.onWindowUnload),this.fire("scope:add-document",{doc:t,window:i,scope:this,options:n})}removeDocument(t){const n=this.getDocIndex(t),i=bt(t),o=this.documents[n].options;this.events.remove(i,"unload",this.onWindowUnload),this.documents.splice(n,1),this.events.documents.splice(n,1),this.fire("scope:remove-document",{doc:t,window:i,scope:this,options:o})}getDocIndex(t){for(let n=0;n<this.documents.length;n++)if(this.documents[n].doc===t)return n;return-1}getDocOptions(t){const n=this.getDocIndex(t);return n===-1?null:this.documents[n].options}now(){return(this.window.Date||Date).now()}}function Ei(e,t){return e.isInitialized=!0,y.window(t)&&Be(t),$.init(t),A.init(t),ni.init(t),e.window=t,e.document=t.document,e.usePlugin(bi),e.usePlugin(gi),e}function ye(e){return e&&e.replace(/\/.*$/,"")}const sn=new xi,_e=sn.interactStatic,Ii=typeof globalThis<"u"?globalThis:window;sn.init(Ii);function we(e,t,n){const i=e.slice();return i[7]=t[n],i}function xe(e){let t,n;return t=new Pn({props:{slot:e[7],inventory:e[0],item:e[3][e[7]]}}),{c(){Q(t.$$.fragment)},m(i,o){U(t,i,o),n=!0},p(i,o){const s={};o&4&&(s.slot=i[7]),o&1&&(s.inventory=i[0]),o&12&&(s.item=i[3][i[7]]),t.$set(s)},i(i){n||(q(t.$$.fragment,i),n=!0)},o(i){N(t.$$.fragment,i),n=!1},d(i){G(t,i)}}}function Si(e){let t,n,i=vt(e[2]),o=[];for(let r=0;r<i.length;r+=1)o[r]=xe(we(e,i,r));const s=r=>N(o[r],1,1,()=>{o[r]=null});return{c(){t=b("div");for(let r=0;r<o.length;r+=1)o[r].c();h(t,"class","grid grid-cols-6 grid-rows-5 gap-2")},m(r,l){k(r,t,l);for(let c=0;c<o.length;c+=1)o[c]&&o[c].m(t,null);e[6](t),n=!0},p(r,[l]){if(l&13){i=vt(r[2]);let c;for(c=0;c<i.length;c+=1){const a=we(r,i,c);o[c]?(o[c].p(a,l),q(o[c],1)):(o[c]=xe(a),o[c].c(),q(o[c],1),o[c].m(t,null))}for(Kt(),c=i.length;c<o.length;c+=1)s(c);Vt()}},i(r){if(!n){for(let l=0;l<i.length;l+=1)q(o[l]);n=!0}},o(r){o=o.filter(Boolean);for(let l=0;l<o.length;l+=1)N(o[l]);n=!1},d(r){r&&P(t),Fe(o,r),e[6](null)}}}function Ti(e,t,n){let i,o,s,r;yt(e,F,f=>n(5,r=f));let{inventory:l="player"}=t,c;Re(()=>{c&&(_e(".item-slot-draggable").draggable({inertia:!1,autoScroll:!0,listeners:{start(f){F.update(p=>({...p,isDragging:!0}))},move(f){const p=f.target,u=(parseFloat(p.getAttribute("data-x"))||0)+f.dx,g=(parseFloat(p.getAttribute("data-y"))||0)+f.dy;p.style.transform=`translate(${u}px, ${g}px) scale(1.05)`,p.setAttribute("data-x",u),p.setAttribute("data-y",g)},end(f){const p=f.target;p.style.transform="",p.removeAttribute("data-x"),p.removeAttribute("data-y"),F.update(u=>({...u,isDragging:!1}))}}}),_e(".item-slot").dropzone({accept:".item-slot-draggable",ondrop(f){const p=parseInt(f.relatedTarget.dataset.slot),u=f.relatedTarget.dataset.inventory,g=parseInt(f.target.dataset.slot),m=f.target.dataset.inventory,w=r.itemAmount;(p!==g||u!==m)&&F.moveItem(p,g,u,m,w)}}))});function a(f){Nt[f?"unshift":"push"](()=>{c=f,n(1,c)})}return e.$$set=f=>{"inventory"in f&&n(0,l=f.inventory)},e.$$.update=()=>{e.$$.dirty&33&&n(3,i=l==="player"?r.playerItems:r.otherItems),e.$$.dirty&33&&n(4,o=l==="player"?r.slots:r.otherSlots),e.$$.dirty&16&&n(2,s=Array.from({length:o},(f,p)=>p+1))},[l,c,s,i,o,r,a]}class rn extends it{constructor(t){super(),nt(this,t,Ti,Si,V,{inventory:0})}}function Ee(e){let t,n,i,o,s,r,l,c,a,f,p,u,g,m,w,_,v,E,I,x,M,D,T,O,L,B,ee,ut,ne,Tt,ie,ot,Ft,oe;ut=new rn({props:{inventory:"player"}});let R=e[4]&&Ie(e);return{c(){t=b("div"),n=b("div"),i=b("div"),o=b("div"),s=b("div"),s.innerHTML='<div class="flex items-center gap-3"><svg width="32" height="32" viewBox="0 0 32 32" fill="none" xmlns="http://www.w3.org/2000/svg" class="w-8 h-8 flex-shrink-0"><path d="M12.9336 3.70403C12.6724 3.63191 12.3931 3.66892 12.1597 3.80659L4.26165 8.39199L3.42352 6.85571L1.66778 7.81357L3.00111 10.2575C3.13098 10.4954 3.35178 10.6704 3.61298 10.7425C3.87418 10.8146 4.15351 10.7776 4.38698 10.6399L12.2848 6.0546L13.0443 7.44693C13.2834 7.29593 13.5266 7.1482 13.774 7.00468C14.1076 6.81127 14.4439 6.62852 14.7812 6.45469L13.5455 4.18912C13.4156 3.9512 13.1948 3.77613 12.9336 3.70403Z" fill="white"></path><path d="M14.7787 6.45436L16.8243 10.2045L17.4815 9.81015C17.712 9.6718 17.9887 9.63215 18.2488 9.70013C18.509 9.76812 18.7308 9.93803 18.8642 10.1715L21.5309 14.8382C21.8008 15.3104 21.6436 15.9119 21.1771 16.1918L17.8438 18.1918C17.6132 18.3302 17.3366 18.3698 17.0764 18.3018C16.8163 18.2338 16.5944 18.0639 16.4611 17.8304L13.7944 13.1638C13.5244 12.6915 13.6816 12.09 14.1482 11.8101L15.1079 11.2343L13.0418 7.4466C12.3799 7.8646 11.749 8.30775 11.1428 8.75659C8.61163 10.6308 7.61777 13.9694 8.86777 16.6596C9.5831 18.199 10.3522 19.786 11.2499 21.3475C12.1475 22.909 13.1316 24.3715 14.1014 25.7632C15.7983 28.1986 19.1797 29.0042 22.0639 27.7388C23.0033 27.3267 23.9568 26.8694 24.8895 26.3286C25.8223 25.7878 26.6932 25.1872 27.5183 24.5763C30.0493 22.7022 31.0435 19.3635 29.7934 16.6732C29.078 15.1339 28.3089 13.5468 27.4113 11.9854C26.5136 10.4239 25.5296 8.96148 24.5598 7.56968C22.8629 5.13429 19.4813 4.32875 16.5972 5.59401C15.9938 5.85877 15.3846 6.14217 14.7787 6.45436Z" fill="white"></path><path d="M17.6345 12.0508L19.3086 14.9805L17.6906 15.9513L16.0165 13.0216L17.6345 12.0508Z" fill="white"></path></svg> <div class="flex flex-col gap-1"><p class="text-white uppercase text-xs">Para dar items a otro usuario</p> <p class="text-[#90C9C4] text-xs">pulsa la ruedita del ratÃ³n sobre el objeto.</p></div></div>',r=S(),l=b("div"),c=b("div"),a=b("button"),a.innerHTML='<svg width="10" height="1" viewBox="0 0 10 1" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M0.5 0.5H8.66667" stroke="#737373" stroke-linecap="round" stroke-linejoin="round"></path></svg>',f=S(),p=b("input"),u=S(),g=b("button"),g.innerHTML='<svg width="10" height="10" viewBox="0 0 10 10" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M0.5 4.875H8.66667" stroke="#737373" stroke-linecap="round" stroke-linejoin="round"></path><path d="M4.58203 0.5V9.25" stroke="#737373" stroke-linecap="round" stroke-linejoin="round"></path></svg>',m=S(),w=b("div"),_=Rt("svg"),v=Rt("path"),E=Rt("path"),I=S(),x=b("div"),M=b("div"),D=S(),T=b("p"),O=C(e[1]),L=C("/"),B=C(e[0]),ee=S(),Q(ut.$$.fragment),ne=S(),Tt=b("div"),Tt.innerHTML='<svg width="15" height="14" viewBox="0 0 15 14" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M13.3709 14C14.2706 14 15 13.2494 15 12.3236C15 12.0717 14.9449 11.8235 14.8392 11.5972L14.7908 11.5019L8.99554 0.900243C8.69156 0.344213 8.11995 0 7.5 0C6.91877 0 6.38002 0.302565 6.06445 0.798574L6.0045 0.900243L0.209163 11.5019C0.0720419 11.7527 1.39535e-05 12.0358 0 12.3236C0 13.2494 0.729391 14 1.62904 14H13.3709ZM7.5 8.79487C7.11467 8.79487 6.80233 8.47345 6.80233 8.07692V4.84615C6.80233 4.44964 7.11467 4.12821 7.5 4.12821C7.88533 4.12821 8.19768 4.44964 8.19768 4.84615V8.07692C8.19768 8.47345 7.88533 8.79487 7.5 8.79487ZM7.5 11.3147C7.11467 11.3147 6.80233 10.9933 6.80233 10.5968V10.5897C6.80233 10.1932 7.11467 9.8718 7.5 9.8718C7.88533 9.8718 8.19768 10.1932 8.19768 10.5897V10.5968C8.19768 10.9933 7.88533 11.3147 7.5 11.3147Z" fill="#0F7067"></path></svg> <p class="flex items-center gap-1.5 text-[#8C8C8C] text-xs">presiona <span class="text-xs bg-[#1F1F1F] border border-[#2F2F2F] rounded-md px-1.5 py-0.5">clic derecho</span> para <span class="text-[#0F7067]">dropear un item</span></p>',ie=S(),R&&R.c(),h(s,"class","bannerGuide w-full px-3 py-2 rounded-[10px] border border-[#29776f]"),W(s,"background-image","url('/svgs/grid-pattern.svg')"),W(s,"background-size","cover"),W(s,"background-position","center"),W(s,"background-color","#0C5952"),h(a,"class","flex items-center justify-center cursor-pointer hover:opacity-70 transition-opacity px-1"),h(p,"type","number"),h(p,"min","1"),h(p,"max","10000000"),h(p,"class","w-[90px] h-full bg-transparent px-2 py-1 text-sm text-center text-foreground outline-none placeholder:text-muted-foreground"),h(p,"placeholder","0"),h(g,"class","flex items-center justify-center cursor-pointer hover:opacity-70 transition-opacity px-1"),h(c,"class","flex items-center min-w-[140px] w-fit h-9 rounded-md border border-input bg-transparent shadow-sm px-2 focus-within:ring-1 focus-within:ring-[#0F7168] transition-all"),h(v,"d","M7 4.66699C7.9665 4.66699 8.75 3.88349 8.75 2.91699C8.75 1.95049 7.9665 1.16699 7 1.16699C6.0335 1.16699 5.25 1.95049 5.25 2.91699C5.25 3.88349 6.0335 4.66699 7 4.66699Z"),h(v,"stroke","#737373"),h(v,"stroke-width","1.16667"),h(v,"stroke-linecap","round"),h(v,"stroke-linejoin","round"),h(E,"d","M3.79126 4.66699C3.53883 4.66961 3.29405 4.75404 3.09368 4.9076C2.89331 5.06117 2.74816 5.27558 2.68001 5.51866L1.2246 10.792C1.1805 10.9627 1.17565 11.1411 1.21041 11.3139C1.24518 11.4867 1.31865 11.6494 1.42531 11.7898C1.53197 11.9301 1.66905 12.0445 1.82625 12.1242C1.98345 12.204 2.15668 12.2471 2.33293 12.2503H11.6663C11.8463 12.2503 12.0239 12.2085 12.1852 12.1284C12.3464 12.0482 12.4869 11.9318 12.5957 11.7883C12.7044 11.6448 12.7785 11.4781 12.812 11.3012C12.8456 11.1243 12.8378 10.942 12.7892 10.7687L11.3163 5.54199C11.252 5.29315 11.1074 5.07248 10.9049 4.91426C10.7024 4.75604 10.4533 4.66911 10.1963 4.66699H3.79126Z"),h(E,"stroke","#737373"),h(E,"stroke-width","1.16667"),h(E,"stroke-linecap","round"),h(E,"stroke-linejoin","round"),h(_,"width","14"),h(_,"height","14"),h(_,"viewBox","0 0 14 14"),h(_,"fill","none"),h(_,"xmlns","http://www.w3.org/2000/svg"),h(M,"class","h-full bg-[#A1A1A1] transition-all duration-300 rounded-full"),W(M,"width",e[2]+"%"),h(x,"class","bg-[#262626] w-[70px] h-1 rounded-full overflow-hidden"),h(T,"class","text-[#A1A1A1] text-xs"),h(w,"class","flex items-center gap-2"),h(l,"class","flex items-center justify-between w-full"),h(Tt,"class","flex items-center gap-2 bg-[#0D0D0D] px-3 py-2.5 rounded-lg border border-[#2D2D2D]/70"),h(o,"class","h-fit min-h-[200px] max-h-[800px] bg-[#090909]/90 shadow-[0_0_30px_rgba(0,0,0,0.7)] backdrop-blur-sm border border-[#5e5e5e7c] rounded-[10px] px-3 py-6 flex flex-col gap-3"),W(o,"background-image","url('/svgs/grid-pattern.svg')"),W(o,"background-position","center"),h(i,"class","w-[500px] flex flex-col gap-4 transition-all duration-200"),h(n,"class","flex flex-row-reverse gap-6 ml-auto mr-auto items-center h-full"),h(t,"class","fixed inset-0 flex justify-center items-center p-3"),W(t,"animation","fadeIn 0.4s ease-out")},m(Y,Z){k(Y,t,Z),d(t,n),d(n,i),d(i,o),d(o,s),d(o,r),d(o,l),d(l,c),d(c,a),d(c,f),d(c,p),re(p,e[3]),d(c,u),d(c,g),d(l,m),d(l,w),d(w,_),d(_,v),d(_,E),d(w,I),d(w,x),d(x,M),d(w,D),d(w,T),d(T,O),d(T,L),d(T,B),d(o,ee),U(ut,o,null),d(o,ne),d(o,Tt),d(n,ie),R&&R.m(n,null),ot=!0,Ft||(oe=[K(a,"click",e[9]),K(p,"input",e[13]),K(p,"input",e[11]),K(g,"click",e[10])],Ft=!0)},p(Y,Z){Z&8&&je(p.value)!==Y[3]&&re(p,Y[3]),(!ot||Z&4)&&W(M,"width",Y[2]+"%"),(!ot||Z&2)&&X(O,Y[1]),(!ot||Z&1)&&X(B,Y[0]),Y[4]?R?(R.p(Y,Z),Z&16&&q(R,1)):(R=Ie(Y),R.c(),q(R,1),R.m(n,null)):R&&(Kt(),N(R,1,1,()=>{R=null}),Vt())},i(Y){ot||(q(ut.$$.fragment,Y),q(R),ot=!0)},o(Y){N(ut.$$.fragment,Y),N(R),ot=!1},d(Y){Y&&P(t),G(ut),R&&R.d(),Ft=!1,et(oe)}}}function Ie(e){let t,n,i,o,s,r,l,c,a=(e[6]/1e3).toFixed(2)+"",f,p,u=(e[5]/1e3).toFixed(2)+"",g,m,w,_;return w=new rn({props:{inventory:"other"}}),{c(){t=b("div"),n=b("div"),i=b("div"),o=b("div"),s=C(e[7]),r=S(),l=b("span"),c=C("Weight: "),f=C(a),p=C(" / "),g=C(u),m=S(),Q(w.$$.fragment),h(o,"class","text-white font-semibold text-[#626262]"),h(l,"class","text-[#A1A1A1] text-xs"),h(i,"class","flex items-center justify-between"),h(n,"class","h-fit min-h-[200px] max-h-[800px] bg-[#090909]/90 shadow-[0_0_30px_rgba(0,0,0,0.7)] backdrop-blur-sm border border-[#5e5e5e7c] rounded-[10px] px-3 py-6 flex flex-col gap-3"),W(n,"background-image","url('/svgs/grid-pattern.svg')"),W(n,"background-position","center"),h(t,"class","w-[500px] flex flex-col gap-4 transition-all duration-200"),W(t,"animation","fadeInDelayed 0.6s ease-out")},m(v,E){k(v,t,E),d(t,n),d(n,i),d(i,o),d(o,s),d(i,r),d(i,l),d(l,c),d(l,f),d(l,p),d(l,g),d(n,m),U(w,n,null),_=!0},p(v,E){(!_||E&128)&&X(s,v[7]),(!_||E&64)&&a!==(a=(v[6]/1e3).toFixed(2)+"")&&X(f,a),(!_||E&32)&&u!==(u=(v[5]/1e3).toFixed(2)+"")&&X(g,u)},i(v){_||(q(w.$$.fragment,v),_=!0)},o(v){N(w.$$.fragment,v),_=!1},d(v){v&&P(t),G(w)}}}function Pi(e){let t,n,i=e[8]&&Ee(e);return{c(){i&&i.c(),t=It()},m(o,s){i&&i.m(o,s),k(o,t,s),n=!0},p(o,[s]){o[8]?i?(i.p(o,s),s&256&&q(i,1)):(i=Ee(o),i.c(),q(i,1),i.m(t.parentNode,t)):i&&(Kt(),N(i,1,1,()=>{i=null}),Vt())},i(o){n||(q(i),n=!0)},o(o){N(i),n=!1},d(o){o&&P(t),i&&i.d(o)}}}function ki(e,t,n){let i,o,s,r,l,c,a,f,p,u;yt(e,F,v=>n(12,u=v));function g(){F.setItemAmount(o-1)}function m(){F.setItemAmount(o+1)}function w(v){const E=parseInt(v.target.value)||1;F.setItemAmount(E)}function _(){o=je(this.value),n(3,o),n(12,u)}return e.$$.update=()=>{e.$$.dirty&4096&&n(8,i=u.isOpen),e.$$.dirty&4096&&n(3,o=u.itemAmount),e.$$.dirty&4096&&u.playerWeight,e.$$.dirty&4096&&u.playerMaxWeight,e.$$.dirty&4096&&n(0,s=u.slots),e.$$.dirty&4096&&n(7,r=u.otherLabel),e.$$.dirty&4096&&n(6,l=u.otherWeight),e.$$.dirty&4096&&n(5,c=u.otherMaxWeight),e.$$.dirty&4096&&n(4,a=u.otherName!==""),e.$$.dirty&4096&&n(1,f=Object.keys(u.playerItems).length),e.$$.dirty&3&&n(2,p=f/s*100)},[s,f,p,o,a,c,l,r,i,g,m,w,u,_]}class Mi extends it{constructor(t){super(),nt(this,t,ki,Pi,V,{})}}function Se(e){let t,n,i,o,s=e[0].label+"",r,l,c,a,f,p,u,g,m,w,_,v,E,I,x,M,D,T,O;return{c(){t=b("div"),n=b("div"),i=b("div"),o=b("div"),r=C(s),l=C(" | "),c=b("span"),c.textContent="9mm",a=S(),f=b("img"),g=S(),m=b("div"),w=S(),_=b("div"),_.textContent="Complementos",v=S(),E=b("div"),E.innerHTML="",I=S(),x=b("div"),x.innerHTML='<span class="text-muted-foreground text-sm">Arrastra aquÃ­ para quitar</span>',M=S(),D=b("button"),D.innerHTML='<i class="fa-solid fa-right-from-bracket text-primary mr-2"></i>Volver al Inventario',h(c,"class","text-lg text-muted-foreground"),h(o,"class","weapon-attachments-container-title text-foreground text-2xl font-bold"),tt(f.src,p="/attachment_images/"+e[0].image)||h(f,"src",p),h(f,"alt",u=e[0].name),h(f,"class","weapon-attachments-container-image w-40 h-auto"),h(i,"class","flex items-center justify-between mb-6"),h(m,"class","border-t border-border my-4"),h(_,"class","weapon-attachments-title text-foreground text-lg font-semibold mb-4"),h(E,"class","weapon-attachments grid grid-cols-4 gap-3 mb-6"),h(x,"class","weapon-attachments-remove min-h-[80px] border-2 border-dashed border-border/50 rounded-md flex items-center justify-center mb-4"),h(D,"class","weapon-attachments-back w-full bg-accent hover:bg-primary text-foreground px-6 py-3 rounded-md transition-colors font-medium"),h(n,"class","weapon-attachments-background bg-secondary border border-border rounded-lg p-8 min-w-[600px]"),h(t,"class","weapon-attachments-container fixed top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 z-[200]")},m(L,B){k(L,t,B),d(t,n),d(n,i),d(i,o),d(o,r),d(o,l),d(o,c),d(i,a),d(i,f),d(n,g),d(n,m),d(n,w),d(n,_),d(n,v),d(n,E),d(n,I),d(n,x),d(n,M),d(n,D),T||(O=K(D,"click",e[2]),T=!0)},p(L,B){B&1&&s!==(s=L[0].label+"")&&X(r,s),B&1&&!tt(f.src,p="/attachment_images/"+L[0].image)&&h(f,"src",p),B&1&&u!==(u=L[0].name)&&h(f,"alt",u)},d(L){L&&P(t),T=!1,O()}}}function Ci(e){let t,n=e[1]&&e[0]&&Se(e);return{c(){n&&n.c(),t=It()},m(i,o){n&&n.m(i,o),k(i,t,o)},p(i,[o]){i[1]&&i[0]?n?n.p(i,o):(n=Se(i),n.c(),n.m(t.parentNode,t)):n&&(n.d(1),n=null)},i:j,o:j,d(i){i&&P(t),n&&n.d(i)}}}function $i(e,t,n){let i,o,s;yt(e,F,l=>n(3,s=l));function r(){F.closeAttachmentScreen()}return e.$$.update=()=>{e.$$.dirty&8&&n(1,i=s.attachmentScreen),e.$$.dirty&8&&n(0,o=s.clickedWeapon)},[o,i,r,s]}class Di extends it{constructor(t){super(),nt(this,t,$i,Ci,V,{})}}function Te(e){let t,n,i,o,s=e[0].label+"",r,l,c,a,f,p=(e[0].description||"Sin descripciÃ³n")+"",u,g,m=e[0].type==="weapon"&&e[0].info&&Pe(e);return{c(){t=b("div"),n=b("div"),i=b("div"),o=b("div"),r=C(s),l=S(),c=b("div"),a=S(),f=b("div"),u=C(p),g=S(),m&&m.c(),h(o,"class","item-info-title text-foreground text-base font-semibold mb-2"),h(c,"class","item-info-line border-t border-border my-2"),h(f,"class","item-info-description text-muted-foreground text-sm leading-relaxed"),h(i,"class","iteminfo-content"),h(n,"class","ply-iteminfo bg-secondary border border-border rounded-lg p-4 min-w-[250px]"),h(t,"class","ply-iteminfo-container fixed pointer-events-none z-[1000] svelte-p7q9xu"),W(t,"display","block")},m(w,_){k(w,t,_),d(t,n),d(n,i),d(i,o),d(o,r),d(i,l),d(i,c),d(i,a),d(i,f),d(f,u),d(f,g),m&&m.m(f,null)},p(w,_){_&1&&s!==(s=w[0].label+"")&&X(r,s),_&1&&p!==(p=(w[0].description||"Sin descripciÃ³n")+"")&&X(u,p),w[0].type==="weapon"&&w[0].info?m?m.p(w,_):(m=Pe(w),m.c(),m.m(f,null)):m&&(m.d(1),m=null)},d(w){w&&P(t),m&&m.d()}}}function Pe(e){let t,n,i,o,s=(e[0].info.serie||"N/A")+"",r,l,c,a,f,p=(e[0].info.ammo||0)+"",u,g,m=e[0].info.quality&&ke(e);return{c(){t=b("div"),n=b("p"),i=b("strong"),i.textContent="Serie:",o=S(),r=C(s),l=S(),c=b("p"),a=b("strong"),a.textContent="MuniciÃ³n:",f=S(),u=C(p),g=S(),m&&m.c(),h(t,"class","mt-2")},m(w,_){k(w,t,_),d(t,n),d(n,i),d(n,o),d(n,r),d(t,l),d(t,c),d(c,a),d(c,f),d(c,u),d(t,g),m&&m.m(t,null)},p(w,_){_&1&&s!==(s=(w[0].info.serie||"N/A")+"")&&X(r,s),_&1&&p!==(p=(w[0].info.ammo||0)+"")&&X(u,p),w[0].info.quality?m?m.p(w,_):(m=ke(w),m.c(),m.m(t,null)):m&&(m.d(1),m=null)},d(w){w&&P(t),m&&m.d()}}}function ke(e){let t,n,i,o=e[0].info.quality.toFixed(0)+"",s,r;return{c(){t=b("p"),n=b("strong"),n.textContent="Durabilidad:",i=S(),s=C(o),r=C("%")},m(l,c){k(l,t,c),d(t,n),d(t,i),d(t,s),d(t,r)},p(l,c){c&1&&o!==(o=l[0].info.quality.toFixed(0)+"")&&X(s,o)},d(l){l&&P(t)}}}function Oi(e){let t,n=e[1]&&e[0]&&Te(e);return{c(){n&&n.c(),t=It()},m(i,o){n&&n.m(i,o),k(i,t,o)},p(i,[o]){i[1]&&i[0]?n?n.p(i,o):(n=Te(i),n.c(),n.m(t.parentNode,t)):n&&(n.d(1),n=null)},i:j,o:j,d(i){i&&P(t),n&&n.d(i)}}}function Ai(e,t,n){let i,o,s;return yt(e,F,r=>n(2,s=r)),e.$$.update=()=>{e.$$.dirty&4&&n(0,i=s.hoveredItem),e.$$.dirty&1&&n(1,o=i!==null)},[i,o,s]}class Li extends it{constructor(t){super(),nt(this,t,Ai,Oi,V,{})}}function Me(e,t,n){const i=e.slice();return i[2]=t[n],i}function Ce(e,t){let n,i,o=$e(t[2].type)+"",s,r,l,c=t[2].item.label+"",a,f,p,u,g,m,w;return{key:e,first:null,c(){n=b("div"),i=b("div"),s=C(o),r=S(),l=b("div"),a=C(c),f=S(),p=b("div"),u=b("img"),w=S(),h(i,"class","text-[hsl(142.1_76.2%_36.3%)] text-sm font-semibold mb-1"),h(l,"class","text-white text-base mb-2"),tt(u.src,g="/images/"+t[2].item.image)||h(u,"src",g),h(u,"alt",m=t[2].item.name),h(u,"class","w-16 h-16 object-contain"),h(p,"class","flex items-center justify-center"),h(n,"class","itembox-container bg-[hsl(240_3.7%_15.9%/0.95)] border border-[hsl(142.1_76.2%_36.3%)] rounded-lg p-4 min-w-[250px]"),W(n,"animation","slideInRight 0.3s ease"),this.first=n},m(_,v){k(_,n,v),d(n,i),d(i,s),d(n,r),d(n,l),d(l,a),d(n,f),d(n,p),d(p,u),d(n,w)},p(_,v){t=_,v&1&&o!==(o=$e(t[2].type)+"")&&X(s,o),v&1&&c!==(c=t[2].item.label+"")&&X(a,c),v&1&&!tt(u.src,g="/images/"+t[2].item.image)&&h(u,"src",g),v&1&&m!==(m=t[2].item.name)&&h(u,"alt",m)},d(_){_&&P(n)}}}function qi(e){let t,n=[],i=new Map,o=vt(e[0]);const s=r=>r[2].id;for(let r=0;r<o.length;r+=1){let l=Me(e,o,r),c=s(l);i.set(c,n[r]=Ce(c,l))}return{c(){t=b("div");for(let r=0;r<n.length;r+=1)n[r].c();h(t,"class","itemboxes-container fixed bottom-4 right-4 flex flex-col gap-2 z-50")},m(r,l){k(r,t,l);for(let c=0;c<n.length;c+=1)n[c]&&n[c].m(t,null)},p(r,[l]){l&1&&(o=vt(r[0]),n=bn(n,l,s,1,r,o,i,t,vn,Ce,null,Me))},i:j,o:j,d(r){r&&P(t);for(let l=0;l<n.length;l+=1)n[l].d()}}}function $e(e){switch(e){case"add":return"Received";case"remove":return"Removed";default:return"Used"}}function Fi(e,t,n){let i,o;return yt(e,F,s=>n(1,o=s)),e.$$.update=()=>{e.$$.dirty&2&&n(0,i=o.itemBoxes)},[i,o]}class ji extends it{constructor(t){super(),nt(this,t,Fi,qi,V,{})}}function De(e,t,n){const i=e.slice();return i[3]=t[n],i}function Oe(e){let t,n=vt(e[0]),i=[];for(let o=0;o<n.length;o+=1)i[o]=Ae(De(e,n,o));return{c(){t=b("div");for(let o=0;o<i.length;o+=1)i[o].c();h(t,"class","requiredItem-container fixed top-1/2 left-1/2 transform -translate-x-1/2 -translate-y-1/2 bg-[hsl(240_3.7%_15.9%)] border border-[hsl(240_3.7%_20%)] rounded-lg p-8 z-[300]")},m(o,s){k(o,t,s);for(let r=0;r<i.length;r+=1)i[r]&&i[r].m(t,null)},p(o,s){if(s&1){n=vt(o[0]);let r;for(r=0;r<n.length;r+=1){const l=De(o,n,r);i[r]?i[r].p(l,s):(i[r]=Ae(l),i[r].c(),i[r].m(t,null))}for(;r<i.length;r+=1)i[r].d(1);i.length=n.length}},d(o){o&&P(t),Fe(i,o)}}}function Ae(e){let t,n,i,o,s=e[3].label+"",r,l,c,a,f,p,u;return{c(){t=b("div"),n=b("div"),n.textContent="Requerido",i=S(),o=b("div"),r=C(s),l=S(),c=b("div"),a=b("img"),u=S(),h(n,"class","text-[hsl(142.1_76.2%_36.3%)] text-sm font-semibold mb-2"),h(o,"class","text-white text-base mb-2"),tt(a.src,f="/images/"+e[3].image)||h(a,"src",f),h(a,"alt",p=e[3].name),h(a,"class","w-20 h-20 object-contain"),h(c,"class","flex items-center justify-center"),h(t,"class","requiredItem-box mb-4")},m(g,m){k(g,t,m),d(t,n),d(t,i),d(t,o),d(o,r),d(t,l),d(t,c),d(c,a),d(t,u)},p(g,m){m&1&&s!==(s=g[3].label+"")&&X(r,s),m&1&&!tt(a.src,f="/images/"+g[3].image)&&h(a,"src",f),m&1&&p!==(p=g[3].name)&&h(a,"alt",p)},d(g){g&&P(t)}}}function Ri(e){let t,n=e[1]&&e[0].length>0&&Oe(e);return{c(){n&&n.c(),t=It()},m(i,o){n&&n.m(i,o),k(i,t,o)},p(i,[o]){i[1]&&i[0].length>0?n?n.p(i,o):(n=Oe(i),n.c(),n.m(t.parentNode,t)):n&&(n.d(1),n=null)},i:j,o:j,d(i){i&&P(t),n&&n.d(i)}}}function Wi(e,t,n){let i,o,s;return yt(e,F,r=>n(2,s=r)),e.$$.update=()=>{e.$$.dirty&4&&n(1,i=s.requiredItemsOpen),e.$$.dirty&4&&n(0,o=s.requiredItems)},[o,i,s]}class Xi extends it{constructor(t){super(),nt(this,t,Wi,Ri,V,{})}}function Yi(e){let t,n,i,o,s,r,l,c,a,f,p;return n=new Mi({}),o=new Di({}),r=new Li({}),c=new ji({}),f=new Xi({}),{c(){t=b("div"),Q(n.$$.fragment),i=S(),Q(o.$$.fragment),s=S(),Q(r.$$.fragment),l=S(),Q(c.$$.fragment),a=S(),Q(f.$$.fragment),h(t,"class","fixed inset-0 overflow-hidden select-none bg-transparent")},m(u,g){k(u,t,g),U(n,t,null),d(t,i),U(o,t,null),d(t,s),U(r,t,null),d(t,l),U(c,t,null),d(t,a),U(f,t,null),p=!0},p:j,i(u){p||(q(n.$$.fragment,u),q(o.$$.fragment,u),q(r.$$.fragment,u),q(c.$$.fragment,u),q(f.$$.fragment,u),p=!0)},o(u){N(n.$$.fragment,u),N(o.$$.fragment,u),N(r.$$.fragment,u),N(c.$$.fragment,u),N(f.$$.fragment,u),p=!1},d(u){u&&P(t),G(n),G(o),G(r),G(c),G(f)}}}function Bi(e){return Re(()=>{document.body.style.backgroundImage="url(/images/bgTest.png)",document.body.style.backgroundSize="cover",document.body.style.backgroundPosition="center",document.body.style.backgroundRepeat="no-repeat",setTimeout(()=>{const i={action:"open",inventory:{maxweight:12e4,slots:50},other:{maxweight:1e5,slots:40,name:"Cofre del Garaje",label:"Cofre del Garaje"},playeritems:{1:{name:"water",amount:15,info:[],label:"Agua",description:"Agua mineral",weight:500,type:"item",unique:!1,useable:!0,image:"water.png",slot:1},2:{name:"bread",amount:8,info:[],label:"Pan",description:"Pan fresco",weight:200,type:"item",unique:!1,useable:!0,image:"bread.png",slot:2}},otheritems:{},weight:1e4,maxweight:12e4};window.postMessage(i,"*")},500);const t=i=>{F.handleAction(i.data)};window.addEventListener("message",t);const n=i=>{[27,112,9].includes(i.keyCode)&&F.close()};return window.addEventListener("keydown",n),()=>{window.removeEventListener("message",t),window.removeEventListener("keydown",n)}}),[]}class Ni extends it{constructor(t){super(),nt(this,t,Bi,Yi,V,{})}}new Ni({target:document.getElementById("app")});
